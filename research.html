<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Private preview</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Private preview</p>
                        <p>Enter the preview password.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0950ac4c2b61886d15222c02e107a07c52682adbf619f59766a1f6fd14e24ec8dbd0692203ea0980e79b3a50f4cfe3745840fa3b2c0105cc70142d64daa15cfce5070ef3fd3825bee08631d0c113deddca16ae3509924c19146a62e6bb4b49491ea8e9d1e9a8045db49ecf30d0b7564b9601d8839a1a47e445dccc07b12655bf7a78636896bdaf111eab7806a45655a0a32bea89d2424076d1f0c0f374ba7900d20ccf72f3c9f2e6ee0990dd7ad23e30098c42bbca99a3148cdaa684700caf93de91a91fd6c235cae8f1657feb5499fc20c391432e7adecc35bf7defe968b4d182ddaa19053026f035940641bb3a13d1a1c89c5132cc05656c8ef2ecda3abc238d6f11da22ab7ca0b6a54a69a9957b96a640659ab3177458125a1545719dd833bd8494db8a21bb73b7e3b8db93ff65d1c1958594dd77332c40a6ac1979afef2a060f40565b5da4086ed648b3065ce9a455242929439adb289aabef7f6935b29eeca8d76fbfc3265793c30a8d590ae1dfe142122f68e3a6b73c3049aff8a2e9345525fb76e199941a36f1041b59cacab91054db522cb9568cfe918d7374e59d5bae34be7f4103b36be8760b1cac568fbe21d5e440e1d317fc9e5beac40b7de5924b84ad13e74362af6ff19fbb56f511ff1db88a96490b2a0561018ad1c675393dfe4d81fa393065fe7965f3d1c105f30c9add9d7e00a3ae7d4da1e7f66ed2335a890576818a70f959c77e331d3eb4ba65a41fd485a9ac443b39c65d88985162e49d7295f705ecd615e201686a6cbc918af25581319b47d8daebda8545588ebfbed6b6c46f3faa6beb28eb4d1eb7a96569083172b35d4fd0299a238dff72bce0cc9cf8e2c323909a23e7f304f50b41053c51590eb143e11f10596c957b600d27abb6fe212f15c4a2021f6d6d17ff9e93a7020e23d42b4b067fb37a5d86e055fe397e9ff3a04a922664770e0ae7d2c02e8429293943ff166db3e80ec97185ba7bc3992a160fd18fefe9d617e13e8d33ae0b5c2490d749d16e880292c6ee59768842f59d7b83851005f877491720996edc3164950ba745a08916bcfb65df95cbc44011d64655dfe20e2c8f3c239767837f3bb76dbd0892b8692bd6eb57c922a144749c319487fee6729022670ce6a7ad955e1f00a005bbcad7ee5ccbf9d7bd826dc18d2230ba42ae3993fbb618e28d3bda81ed92187ef8d38b6c6275c57f8bf4ef33b6c25e5bde26880656d536ac4f6e47253bf01439a92b4c69a3dc1bf7110098dbba7f8265d625d4eb96f5e23607e3aff70d2c86e8c00f7a7734a2e369cb455a00424e66c42d668bdff70faf760e13ff36e66d58675e497afe9cf760ec3fcc6a7b7ad95ffa1c9e06f6abccc9b13772493fbc9fd439ce54d4d413b074c6ac7494cf9a655a69dcb0cf8920dca8535d801a2700ef6e8b9b8951ce7a4debaab4f20cca9c7ec7a524cbd4a92b04bbf82c08a15645b2f07829603c3f35a8bc249f9507003facb144c19e6dd515abe5a690aa8f6b54f55e03e4b0c6c927f7cf2acf8fe35b33c7e1226f205dcd398b5a1dd3d20407eaa1ba5dc8a06a3d1ae411583fb86791835b7e7a7e00881e97b752d72bfc9fbe0c36dab73af4e8cb31ea5c343eecf3c54cc13211a3c663d52c2a84c3b83bfbd0200080d3b57597d33a1725d294e8c71544e94dc22d2ae24b41042a9ac4503aa9e3491f7f077c3a290a7bb7733866fd0879eed23a98a71202b2f6070b8e8b1cce2cb5be77d7333dc8781d6658604e70f91efb65f02fb769e742c84c5d8555b67560cf742da1144ed34eab31cf2a37ac9a6314a8f21f76a0f4ac2629b4157038e3f6c07bd4a4a888b9a697330db993f7df315ba9a9c02164a2e35c41aac58131b54b778e9968b78386f540d09ceded6f3235b63592259e07fc4a78480633489b3813caf1396e494b5e7b957221ddcaf2f43fb3c36006d918edbae4a97d0a1f5a9ded22d7b693aef3d47683c533de8fb9dbda401243ed7189bd185503bbf106e86d654d0d8ebe2a75d5b8724a3dc2161a94ae245bcc93b0dda395e78973bbecd18a00d0115a68489a063047558eea80626d792069faf9cd4d5f282c20cdcd4e42a79be5b799f0d80fd0c7bed09479242452384e421ea0185eaf73222a758de763d2b1e70c7bb1424fe597feb01ba55f03313977c245d1e6177358cc2e9e4631f47eea9b27b5a607b05a68c5128c0152734edaf3a0b8565fb3a5b9f144cee62d87d954b18ea39d187ea6b8b8872c215dd239ace26b425835944a7becbc0c0e6d35a0ca64d447f51f47838ec62bbdc89f4fd8f8c1452365b0d9bc88fb4b1d17d2cb54219f15f10fc5579af21ef8c03f07d8734eaf895193df4418c9eb394b0525eb285e19ca08a135085bd29aece5754bf73173e3c35d8f2337426396d3cc45468f4a57af7547de4e232e660a27e2c2bb2d28fa1c799cfd7b0bb8b87bb78c45b3ccd7168080bdb04b79f5efac6bbef4f02bbc1c9bf49193c3bc8d7b93bba69eb36d7d1f6770c9cea52077913348050e382a44275aae2476b7abec7aff476d196e218bad2ea7196a119aacfa71bb153cfb8565ea719e0019f4603ec636e3e71752969eefa66c5fef93fcf8510a8b3bc1ddadfd1cfc7ba32ccf86773b306bed21df07f7489e831f4fdc840d61e1c58120070cac99e8c615baad6fe6d1b1e4c73021fe017184e5904a032e28e5a949b79065cdad5d62ac72d3a47a4693bdfdace439ee47375dbdb16535943bc52a73f03bdc20c93fe11db01d88812c53642e94a260f38d00e1b86022ddc2d951c8492cc98b1b20320dc49988e56bef5eb34fbff816a7de8f1a912f148ac89ffe5b6fbad12ff6943acfc0681d8ddd1154ffacdfa20b6120e79d739ba1f975349a6cb4ac9beacaed21448220fe037c4cafad9b7c8a8f15e52f2da0cbc4f6b13a7c163a1ca924385a23733ccb7e08c30d70994ca7c32a84ddfe6dceb08d2a6a3ea845fc11452bc4ea581e4c434ba3357db021de27040c744e9cbb42e7c6c0c9a18e191af9285cd85130ca7e12a8d4d851050bbf0bd60e0e4f681aca225e24d64ab3778533fc6a5bd2be76e654da423e67417977545092806b48e5b8635c40b2ce3d4be730afa94610a10c06053d21118fc072fbd08ee1cf7a8b426072aca7405266d2cc759f733cc88e7d0fe60118299dd1f4facf3e0f9f068ca54d4caadd3a4beb94355870f4998b4dd9970c677eb5a47d7af02515d04c1eee5971c530fcc7b2689878f517b0ca99c0b2584938e9ae05a71311ed004779d00f015d34aef02eb1acd2cd8ef91c1b5d493f3ebdc0c7802e584ed6687e9dccccf7f0b7f2504af8cb4b33addd0e50d9cc32316d9cf6b9b72ceb392ac94f6147ead044fdd4a793f09a8b36c790e86332609eeacb18819767eb532d1c3f71b59e2d4e71a00fa087c60d4f5b29c6274bf46f6b7804e1a1ca183ae3beff232e9acd2cba8a7dc224e0bf3e8e500aef9ca133e517e1b18582519e0d8e50d2aaca29f2b1dcec31fd626434cb173ca2f7fe3564aae2a55ce9bb67f33856d117e2561d3b72ffcff429b8e801c601ca9450fe76c640b2dc9c56cf0d65114011b9321a0813407201b20b3b50f2d34340b37341804ad0e84dfa353d17321f4bc5158e582dc068fc34afa6b203e728668d37e7f32ad03a2683dd437f962e0ed29051a4989aa58a48ac72d8d06ce34b7939034e1c755293af4c6b628d92da41cbab006ba4586f40c1af01203f00bcf808228bd06d7d7d677dc1626800ca20a28fea404b466436601e3fb5a263250be0a8104aabfd5bac4d04643192647a46b2b64f9c8e96c2de4a96d82f4f8113db0607a1a4faa226b86451e703e4e9227196167b65065d31b8be7215f35231c76b9d7abe4d0c829cad64f6f3c2a3f86a0f40875c9fe050231b413ac3b76ca30be705d0141b15c283cfb235e5dd0f9b34392a132f4bf98f2d2133837762817d53b77798c530f0c8a2e30d1ed9e9ec5e3f0693de05066bda547b201a56a9177912b6d5a65a29a9c0236cfadf72d3fb56e3627ad2bb9d69bae9190427f763c0648f1fb75f033849f181e8e8ca2868db4b404a250bc2078d2394bf102271319b4b62a37fdaa82daa82c00f1bba337a774ae6d3c8b43812e3f32a6b1dbfc9cdbdb293569f8c72f341d6dcf7d0c7f25a0b858c5e049d2d391d555dd8baaec673a42c99156a22f12e81205c07509155fbd4c15fd6a9dce25653cecf3f9a89fb249f52b61123019cd338fe5a652cb56f53e3b7bae5b7390ce6514f4c0f786f591b5a2286e808faaa89345c3124e4b215d1acdb4fed3e45ed4e4d39bce0ef1f66e0407f5977b5516a0e23e67d3cdac4e42c0b5a357edd4c8e117aac8273ff931618b01725969d2ff9dc661ea05e50488369c0b489590cf8fa8a31be6f4bf8257d063c3f6bbfb6e6579d742889eeb53666434e5ba84fc22be455efaddb4503ee86c81d3f0eb2f6abd41f1828679fcf3f5ee42eadf1753ecefb62696a2295c794840e1025b23aceeafdc84b2360d89043743399a5de965d61fe32fb194f363ee585e0ad3eace9436b53e18aca0ec44c91b43a3a4bb4a8fa9dfed23f4def9910013819b55950620ff9e404ea2fb8c40fc1383a99e370dc018002cdb1fbe8a4dd3fcaac238b0ce41c01ef7821e48d177a1dadcd2543c89c958eefa5753ba9f2783145f33dfb713c02d6e8e6d64ebfe42462956b2e307fadfe182576cda7f0197493a4294643e7b964520b4a127d7f33f956f9516f0e7d8a7280e2663653f7e08e215be4bc858ff4f7bda18a5a7a8ff652bfd6ff050e00acbabc0f3f39e1ffc9f33302ef70381945f1e6f264d7a1e584eabc881c9441a2b9c6aedc5fb48728deb6da40b2d38a90b918a4cfb70446d2baecc8c7954d6dd91895f0c4116a24c34bfb533b8077d3a717bcfe77a04ea839f0818890761a4067007a0f69140bdd625453e118baeb75bcdd3d53de0b28dda14a3c863d233721afd60411ab75101bb64a7600e6e6a1756f19e7ca7798dd73eef9e1c8b6081679e1645f562466183582eebe0524851fb384c3a243c0c2534c7d191343a62e5d2e594eb84831ea1ff11b7f334a43856ef0421e1880afa6b3fc5f89bc2bec6e8e6db50cfb44638c4433301ab30835becf72af21ae6719db99eb6340a26869525020abf39bb30c793b4f6f39a9c5b3ae4fc7bcf9b6c2a8b37a46f0b3906c7e8daa3abccefde0d561aa46bfc8808ba735b5834db62fb749d236c2f9c80630c6ed0645d295798b83104cd7c1350b641ec399e3961040005290c76bdd79293e9c0fe609839171bf5fab4a6ec910093bd608850b620e216bb091106de891c32d0953d874061a5bae471505c288ecd41d193dd6408ecc40225d7bdc08a4ff44ae7b9f2b1da5da3673b2547a223be03188c4607485cc27b960a13a846b1acb1506108f4e6e46c1cd66c1a08001cb3b66bd83d4b1d3076b9de22b680df1478aa61b98c065259ff0304c3018fdce6ab1078bd32c937ca6c3a660658d1b2447c27322ea61e9ab4b71b80cb9543537b115629ffb476f1e74c541ed6356a27254e1fa903441e849a84d187f2fe023a9006be8462308d69facbe582a9b68f47a6c3a0ce9637735ea92dcbdad47d3853313437d94fb047a9028e5453fac4746eb5ca8bc6af242c98131ea464facb8fe07df1874d8c89029968b1862312d54837056880f6ef410493722358d00d295f4801d6170175278cb77419744482d5128514affd132f3922806a5d097f6c275dc5aecbfa8d4f78504039a7801be1271e6ec550674cedc2f37ca8f0617aaa4489cdb209340dfa795241f02b0345171cc3474cb6be7adbbe64913d0e89784de9a8fb30f0f81761b66ea02df94a221d10a91eb1b8f93528f336299f6f9696d606412b3b909766081e77d88e3abac05ec7be761448c861eddf018a52c491f5ff2875abdb77dd232ba14d69a6d286034e10f668e8073d3feccf70ed3f4d382463532a3cdce0a81bfe8922b44146e5c98fe998f7c1366af5de42753f0a5d73ab80f262e7be35b4d50350d841f6aa14431cc273ad4d52e212c72b32a44e55cb9c57a9f11fb87095aba76512a21f4c5754381bab33ed8b19c7d7976c452101e334538870384d4daab9d5eb69436d98a026b1788a570702514f7b7269a3a52e5d007ff15179a281abc522847c392ded4ab0c1e973b80180e288398bc7b89f74a1002dc4bbc6eec9f289b71c21791dd139d712d1e98552d7185d864fd24c0af9d76a79c2a8a15e2a4fbd91a7bbda06c319bb17983a9892fd31a1b28a089f15446e4c5ab7abb3086990456f23db8c91ed1bca16b67bcb122d6d27c0d3c4c04a005fc34b5fc28d74cb1c03d2bb96b9a5b2f14c46e48b550add27efd781c5978c36f4053b425bd1cfb5794eae30889c44fb5fcee154988b56f5c203b587920439a5afb196321588f725a75f9ef7df1991509e4b20cfeb126eb1222fdfdb0d32f05a9d658f8dab33a307c096f4032195078fe43a84145ce85e8754cba3e248929686625dc08891f09e565d8a21aaca5d131f7a8491859f11884fd3d0fd54424ff6fe34765f8da21b661e2f7d4a8eab74e5f3fe3624f4b7dce95f4ba2b80b5207c57e20cd6f21df7fc10632fae803ed42508b70b4d8b8496f00bfa6b4e2faf294d3dab7b2d3ee165d693f280116f3003bd35df468b838fbe444d4876bcaf555b59f40e580ae2a6290c72668639be1674b71e8d942f1d237a2c6e59fd985433348807c90ac4fab1719454dd567003850b99c97102dd7a46f16dbf5e65c32e02ea404b30e0ebc594e0ab735bb3f7965b5759d5eae3a1d44c7b4acfef2b65158ed36f033b9e2f1dcca6e43564362a200bc25b0042d5bf6fe4fa29b89df6361fc6c840b9ced297fd4352a069331b765d9165a74494138c9ff187da4243cc5639349719b7a6792f59f13a3d545307b3886e2d2b3d17150cf2ba670364daf29e770c12eaa0aacb30c3db39f656508f23c84a4c471cb6fc3839f9e7132688b2aa6a15b96bd80246cda08a000dbe63829e57e3c36c7fbd427731aadd6f657ea3e424143fe3293b8b0c44f787ab16d8195ba8eb8bf78fbabec535c47e5ceb1fd4f2d2d189d5cec5e3ab07341b0ec251e6daf3fe39ea7e12c054d0a6e264670a70fe761a8bad01de62306798d10f60c874a446fb59b8d7695e39ea4c5712a3b7ce836dd428f28db912d91dde88e92b9f1bb7d9759756939398738f120751377258e05c4a06733f0070c100ca60accf2ad1243584e0e75d467c0a4e13e067cc240143accfefac3690c832c55c82c10e31b8a338ab72492539b6a98b759c133fba7ec18d42f967c1981a044c352b7458dd3902b27db4fa296becfd1bf0b94bd72c7848d323a88ae8f62868a36bdb5fb11da4ba785f72320081617eb38f6b891be6a78754a016542f11ef18b90ecb949dad976aa2b37d84dd0cd3c4d58c8a1e8faa2653141920477a8566a4798d065b3342da2b6718c164fe40a5efa7476836b189f7d16bd3de04ad3b13aabe178a93f20839e7757d55000ac967523f196c7ec54e79b1e8efa3d1b92ff3893ee2c143623cdcddd6630a9ce8c49863fd75b92f485f1d8b82efc49a4a057dec8da711e257a35b008da54a6204cd481f0d3bd968b7d1ef0ad5f10844a3db51eac0bad36e97c25d339700628fd7689e9660af88d2819a4f4a9e4abce547e874c7852fa85417994ae0ed26b00e81ca8fe05d666ae60d97e75390f9bb52f5538fce8f0ac58aa1c633fab6b18677c33f55807bee29c35d051bdb16404af926420cc7c03f513e7e66a33f6b90b23572cef5d76efb4d18abd71cc0963b640e82406cdc709a74047608660375e5a7650c43ae70138d6fa0dbe282490660ea53eee8fdf8ad14b98cd1339894fdb7810a6e8e5422ffcb8b0e4837159354e7b2c4f77285b915a97f242db1a45e532900c3aaa50e5d32ce777265cdd8edef71e7d0dba440068dbf8408e461dd4b74d423b0b142a28614b073293e54949fb44cf7d6f0ff1fd41029f35c80e899e5f5a786823943da7f72093413f8f733cc4b8f2e961017833659ff25824c6ade1ca39833112f6c86871293d818eafe397a874ae252652691708827519dc2ea4a16285dde92c8dff3f0cfb60aca4741e5cb5295e9459c3a486106143a76cae23b148b6289e6bff387712f49b46390b02ab5a4966e6ffd08979b3526f0d3358f9c8668feae7c00d4829f6697f57e4d219b1ade7dd653931295ca721ef97f67040d408b5236e532893ae5aa4144297a044763fa0ac65046d7d303265bf3d77b17311c00c654ae7cb5fe0a110a456fa33f7e857e6292352144f168489a1530e43f2006b032f3d5d43a1b8f229f7012968e2203b627f9a88137086a3aea79de9dd7c296060ad6b4d615dc275e5d9917372355e94f493f6fdb2a9730665ddf928b825a660d371f8ecea896eed299aa2467fc2eadc45ab7eec15c656d532723be55e2eb322ec5eea15e600c1fe6c87854249410d5408d0953b7def7b8ad84f358d862473aa4852154815fc352e0ed3cbc76c9bbdaa5af75975dd354f288d5ff86a1976fafa764f72e33c6d7b62cab1dd8ddca541341849455a73ee577b98374d4c7e7403052b3d41e8c154cb2ab63293ab4ff3f0e02e13ed69c1e421f1ef5ef6020e7f714d6e65c1122c80b34422d12cdcd28d63dc9f3ca1802f385b6f07e7941d736f3611882bed72181331d9d23c3292ac7100710a2f2cbe2ec47cf65ee5fdc48e7a1a3935c10d406eda0d9393131dd6ef9b00702e96c15c35095ffe4aa0f596feb72e10a569252d437383eea326f3e14e22bf51fb9e083fab1548cc1d312456b8f7bcac172a5aba6088e933f9450e34a0f6e5690e2ccd593e20a0c185b4a239102eadeafea7df30da399491bd2295412a36af1a793daa9de63b98eff41c3cd108790329cff35a11f9e13c4268f867624b48d4994aca1976cb4a35e00e71ee74e8c80aeeffab075e480b81d4aeb539267492ff45b199d55b116b5026ae576ae403c28c452d80b939450b8d6565ebfcf5bd9f9b79e7f6de360f489599df97120058d7da0a76bdba47f15a59def7d5cdb1e4ae3909b345f3898216ec834dc8482bb287c077c9d2e2f53802e981dbeb976a884edb34d2a0c871abdbdd2b2e074c9fc087116893db6282ad6e4ca41fca22d750292a9f933879788be4f1ac854f77eb3a19b3358c5aa7ee7c38ebd174eb424b9dec12571cde1a6f15187bbafc12c9cab09dc4ccba263b533c3fa6e16ebb3d989a9ec9e98e9223122a4a90f1650dd94e0e9abb78733b919cdaec6d8598a5d545b57075a7f2db2f2638de4af73df4795ad4a307846f7f170cecf72fb8375e144b019e41248dab172a7eee8054569ad24fbc875f9f08201126c3ea692794c14da4276cb74597ee8f865ccfa7a693be15cb7d05fe96d2fa882503c5b978bfa66c2e0bb67a5e9e076358b33eb435a2c4e5c9b71dcd9eab2c9e53c46514dd3ab44f80cb4d5d9bd13dd04a47777efb91a9c8cfbf436a80897e3118ed1220d747946b64eff52898e25a483f53f8d2d90375e51632daea4751bce38749c8af6ebd020a1053690f9b3932d317c31bce03e2c045a16af5357862d1ca712af780ec462f94dcae48e700046189abf62e68a828ec163aa3a56a032c88fff270b8f7270bdc3e2a9e2b7da54444e4e39eaf88a9c393695b886c0b7666e3607834e1de8a7e0b941f33b71fb3f47207715cd0b15a25e988b9fbedc3021a30dafabf595bbc124239392592130ed153aafede1ab4970cd1e339581d0e6ad021595d397703f4983ca1fc8dc0260ffb4a6030dc1c6eb2ecfd9535c316aa21d224739e91043f18d2d301b3672629e53213fd55702ed8cafcc1914bebd90467d723c2ddfac92a5f5aad70b6afe654b5f8b18e88b3d543aa6c63fc8b82abbfae9cdd30aa36f65b5afda1e501e1861ae8b761c2a286ceedbb36597281075e3356da8790d7ce64834b7cffd0e565b30bb2131ad826bdceaec56a014fe3464ebc4552b5f6b81f45ad4e94f47a0a2fbc6cd253a4e4b38369d221e1feb65fcd16d1c85b3ca64a0bf2410cc20e9d0600ac293e5a814afd44525f8d908473642a39b7b6ff7d168018b48212aa46df970583cb3f99fea2c258f67a422e41982357965881d2daacc6fe36717925cea3f7589368a27251b779db5e906a106da601c3e55cd7b6eea5bdc6f1b5c7356c8c7b29a65972d0fd7ea239a19e2b352d1689c061de58518a5c3586adcc598bb09ee0835ca839b9db311c434ff9153685934bf3352a4b03cab5b381a13796ae0d29e24da53020d66583cd8ebc970f7bf241f9e657b1e7ef9d82dc97da3b2a1c84ae2ca3dcc6d01e9bb2ccca8cec47b1fa5d5bdfd23b7a8cd5407bebc9434c9e0274fe46b64da16d89bf99dbbf65cb83a2c8bb7a6c4d223a2f45e92e6421e81e12cf0bbfa95d893f6d0238adc5a1016815f0f268e4f484fd988597e9eb498e0f9067f82807c4d221d793bfd31ad339676f361f9484cc2e09c0f920f130df99589d9df9f961694898f2d73ae85a800cfe5b6fcd71fd727f8f9d7914891c0d446179f9916060ca7603550320044a48866f6149304077439d1e81aa2c9e941afc6cd89c0e1aa141f433304b1d089f9340b89749f26e245c3634fd5b674489c284de8a34177531079872d649a66574136eca81bab9064a8ff5200800ea715260f9ba5a9b87a009f8eab6c41f97e7be373744eab17b8b235ad88778db2b226281da04a357b48f39edf04444fe05d083513e1d9a205c78d13b6ac0535daf1060d0eb5f7ddfb297463a5ae2a5e86f39b78bf4b83790c151cad9ca5895fec3b392463c5ef497e9fa5504fcbb4e012443ff4f93be9016b8cceaf13230f1d53fc438f08b6d589a0559172689ea97a0c2623022f8ecc0bb07faa6dc344bdb50a3384826d0edee49e4a6bce81fac27bdeb5941f45bd54f32633fd63710a7627912db200bc901285afa2f97805d6dce610e95348447c54d646de55e00d1604cfa75f9ad9cd19f1333eec1e1f3ddaba38d56c79601b87e60fa09f7dbc8370e01bcf97e83fb5961fa8bc2ad6203f381ddc86069839c8ca1a426f3264189718b00866e11f167ed053bf5421f7b1d2ba80df7f7c149959d2dc26c5cb1d8e7e0f263750475c5cf67d2d26513db0741b64711d9e604c24e46862c9a27f8552b496d150c45c070ba1809ee84e3c79981363f744d1e9f73f539095baef313258f7a1ef0421bd0a5fdfbcd4a0452bbadb8e60c71f08155e1405646df35e31f1ceed35b9c9b75d2df085d5a71edadaacd9882659e592d70510020e7d467e93eef04b049949c705d99d5521da428d734b68224894213f04d3f2dabb567c47991616be15c615e4938efcd819efeb271408abd53ebba56e11c599310ce4af94dfb0c1d684b457eb63e933188d22e4e88c480508a5460c0b6a0872bb4fb4424a857989989f757ed474146d9cb38ccbccd7a480b80ee5ad09349fb0680469272bb72095971c181580180450b82ac6e29356101218b78c0647c516fdf478a5b5b325e7a2b145066e50dfdc7ab17e4a95e3b6590a78ab52924ed8c4c2c08c20c6447f252bc17f673d5b42d44a8c297c69836e4e114b1dc78409a45bb60d3eae2344000c57682133f19cb67e67d816a03314a1d1d8eb5ccabf00dff85a1ad6ed7c5489887179300e4069662126c77f34e15553bb00fd84065db2a7a7c82d4e156f41d00a666803ef910f8a76bbe3cad78151e4ab3309271c65c9d3c3bf7ca07fd622ed76fff204e09bc2f958a7906282b6e5da2e704360e4725674cc3093e7ffc7ea7997849cdd1d66f61f0ba9fe06c954e3754ab6f96d75efed1af2d5fef095d52a35532c7f69b1689c8aed490d07bf7c571cbd4ee1fbbcff32b6c1d6d7208e9642ed492c61e97262b35d840c05d8f0943114a2a3ac590e4d90dbc03e50c1c94e2581d73ce72127e904e8447b12f005499aad2a1b6d7ab50c125ce6bd9f75eea55b8e6718523ee6b04796b30b67ca8e15a21e619d04bbdcfb138a9d9e396f7d646adf10fc436397c837192f3fdae166f3a9d55af0fe02e469267c9395e06a77799375547851127e03b862f4d2c9f6695c42de8a5817a7ba2b66e5edd562d1bf6c315946d6429ab675ec3bf10508cb1161c69d1fbf2aaecb70364f915d83673c6e39072a63ec23c0292024ed8f54ceb2852c17aed60392814219852e2a469b1f6170ab1b8931d795bef1002c4bf1f8728b464123dcb4b9a5d2942c988521297c24a457cb38d019d384d60453ca4f49c6a059ca74f8a78d89a25caa394e2a3c9dcdfb3c92cd1df159b342a535a800af26bffe957745eab06fb33a3580c818a0a601988de78021c7290d90ccaf21279d90c6d42be4d40fd665bc2922cff80e90e7d4d40781c2a152c807924496474c41deafb15a4fbd36cdb58bf13c92cbf92bd4bdee470bb2595e50c9fcef470e681b9a35dc65f5281e125153d993e2895624d55010cebfe8377d9ef10af24a71141470df38f28e277fc5d17ebb68657c555fc1aeca8cb68e2d3c12254f3a12a125a8af0eead25a72b1d8307cd75671481f8efec7cfdc6c47d5cb9f99564cf2d166c321b6f6caeeb4b46d4980818996646ab56abefbb96faf93b1e7bbf4685e7f42ab42c61d651a01c5dd82bcb1a83fac1edae0e42f5dd0e8c2631d116b9a82ffe947301f8189e9978af4904ae35b5f04d7cebef0d96b56390273216321d67ad5854a9e25269dda414b03d6b7df1dd78fd21553055e71f96d6b6be864d3ca93b40cd0a71bdae7e76caeff59b20c8194b424dec81a6b2d1d2622650ab54a56c64c29d874c4a41e81c3330fafba0885267eeb99a884d1a2a583c2cc8c0425c954c555299d6ae27207bdfdec00805ee8ba625fea333957866635c48f0a320438a13aff51bebdfe44fbc3c9a9a951e0dce8cd51df7ea7f2868449a1aaff1ebae75e62e1b895dc7e68577f5bfb2a7c47befa1ac66a3d2046edd29b841fb5aa6de71a2730952cdb6acf8946dd360eb00a60c896ee9ae11ccb9336d01b352a649856307d05fa342fdb28e5934ba53d1f264491c403a897f995f15b6fea7b6c44dfd29f25ea76c180c2f233357eb7e4309c95a584bf528e90ce42f2ea797c45ffae3b6804ac0a56165b5d1dfc64c0ed7deb376a09ae11192531cbba9cc4348e51c0a023cd905153f0fcacbe8029bbe3647ecb9bb6d593b0c0bbf82e826e4e340b3653c43645fb781cf2be8d87d6b39a5c81b008813d411706596e74de8f46575b1743c580ff780844e2cfcff4c1586c0bc6031b4945ca48f3fdccdb99283274ea6262dda776150afae0298788f0ab5063c0d39fc107d9dc30de22dcfd8fde6ebc1e03a1c65f9898b8daa594141a1f6981bf2746ceaeae18ed57e02527ee4c1c054ddabb975b80e7b17147f5ebf2cf7c2ac69ab7efc89d192bdf6e95df997d4325e3e4c9c031c4f2d0b93c2f476ee5bce973c691b82c8eb1a4d4854a4f17a44b4586a310467f0c78a7369734d348ca8ea21745811f27dc131852f0a1119ec16b538a926171845f0c9244d679d46bde1a88154745d9e2472c972196d7b653fce5071a45d848652b5135430bf41a075d4f89495ff674dff26f500ea5f259771d454a7a5def8b22dc3036d5ab7d200d767cd0adf52aad95b4126a16d9ca0112db7c9d36fc56860daf76bc27bf4ac8884d8b2c5e5c6deda3855ee331ab4f919b8038cd1b80ddc09ae9c2e2dde651b39f5a6731b5f573cccefbb5d9a9e8bdc99118bf11ad8106388e16e2907b50b34a4a232d2cc6a6a5f0654630729eb4785b5449b58987d55a87a496fbce84facf9c0770840def00546d09c75dda5c2f4c73d74543057cc6ad1b0538022a9f30508dc8b62e0fc631ca67ffd8a39a1e08c564169479ba3793f995429360cef5cd0ba4b86d1d189e2df8fb3d865df723166ee88df8d0d902ebdaa2f9d5a4750184d13f86c1bbd06aed93be8dda28bb4248fe46062da73c724752c8c29f8aef4b7c5203c588a7ebcc76783e3344ca11fd33f86a5f517ab7cdc4ebcb1327dd66ae4b9671d629fd1a4434e081d4150a56a5e11c598d6557212cb7da7f46d3fa46bb41cf74e5fe7f8cbec4c5e25f6e72e0f571a5c0cb6709298cc6a454fb4e6c7d2a776f8f5d303900fec209564064af5871067ffe3a4c015aa35b4831c38841e31d3b65f3fe8adbb2e73d77057a947617d0ad89f5e1b066e7d3043c2d0a35fd6ef827def7f59e4c13edea34d1004ed244880a334a2f8c94a950d64d137b408fb6c1ec008cf4beaa7ab5f283feed626acab5a8432a77f83cef625ec2d3f090bc34aaafd8019a1b5724c6c7edc90a838584edff4a555e5f94a4831e0d6eb5b337bf925df4ed579fb064f7313869855d22dec8b0efb4e7bebe1e251b8b1bbf69d265835084ee82d6d270c46f3b54c8ad5bda97bba49c857ecdcfa49fc3cac701917e7b51f30082d5572d43abfb7b9c53229048169698db92065ffe59a5ac7b5adec94ace2422148176a91b0830525e227ad544318402a5b3969c62aef89423cba4e6cdcf50a07220d396d6459b9417aac7a917682e3b840051433b3c5b4c036228c10a6161980a2254146c52b3f2df7ff831ff9ccfbffd90038849ec3326645c8c212436de3e74f22be534a072c8fb7736a9fef605ded561702b2760f778d9bf06c17f4faf6e891526159f3a5ea30f9332ce04c3dd651a33b552ec7798c3ad7e27e3d49e69383e74a328a23319091c0dbb3d508ab9610107bb91d451781b39b5212d3c2c15b71c62250507a54172d208d9d61f4573fd671c3eda7efdf0c266eb3acce6120ac3b1ff3148f3cc7b286bd2c0324b9a5cadebe8cf988a4ba5cc08780c97dca654fbf0fca1d38a0a56f282e73291d08b12042b8b525454b20732f208c22c4065639d9e61092a9950fa973cea95e2a46e235dae6538ecb681ea0fd8cf759367c79a43479211cfe0f84722ed36ee32cbab30eac9689cf40bf89cbc68de56e6374780aae148f34841fe9ec4f1f0c77adfd0b3214dfa79c22f3ddf949ca52a4cd8eeebf9f533d9e5bc4d47acd29da3a6de779c4687b4791f83876f0fe4a3a89d85d21ba8f723055cf74a6307ebe8257bd3e183a6d7008d9a4043cdd25c63eb5ac38b697593d8de5bd0c6f68f84764384a0050286525d3beac034137f13758026a03d5d1cec36c8444bc8834eab1ab10a271928a4937d9fcaeff4b95d0e9a5c1bd1cb277a28a7a8faf9ed1a3f9c5d52136d4853e47c06d001e4cc66262e532d5530ab5a0c8f1959701cdd208e30f138b0def27abc6ae0a68ebf3811c369996d5676d8db3244911fa2f96ebd0907de1f5312017bae6665ebf58a939a72fece69372eb4b560e51692d7d832f531dbc6a62e556b7dc67198caee1c7cc74e49421104229c6098d81ac9a601b17aa46f1196a9a57b864223cbb3828d699498e6edb24e97ce6cea0f7319f6ede32d36871647fe77a76ec962bc75e870426919bc76646c36ac39cf04b054142049c6dade22ea653a3f1639bcdcce5a907c794823bbdaea1454fb53328a558f45e98292a5a2b3294d3a60a85fa3b8d2fb9fa48c883f2a47761a3ba45ca718dd9a5321b9b65516d7e6ebb15fc2e4b54ac9434ad0d3bd5abe8032989e7e0167f0177d0957491b5f076b70bfc63f4aadef20b4aca2cafe6a62d93f2006a7f13107cbb06fe5e23038e7a2375b7ed8ee9d6c704991cb045b0d4660bbd3374fb0babda7cb79e713e7d56efc8ece9932f9671a45515ec0c39d348fefd87d59e2d13a3af6269bd67ad233351da2d3d9d13bb22d66c35a63b73ec1fc3fe54cd2611309b52a43db25eb08f6af8cb19c3ea8e573b4123443435b6aa0bbd13da2249bad263a4e2de05d5e959aada34c2a7d037be7b30ef068fcc913c6e7ef36e28d80bf95455060407b6b6f928fbb52e034310e9da319b6e1c0b209a166e05e91926dbcfc929fff7f46d5a299580ff4cd780ae33bbc128c5cf1e8d676957c81eff468bab077a95bf289e6112f173636bfdce1721acbe61813d47147f928606f8926c764e9601fdd80b01b0ddd62916fb8f40859af73b43031dde6a60ad71725fe3c02c7ab314bbd744260c6e0ad4d3d933700e4d1b3bc98baf853d0732b10a529b17db08910506d24d6b7e651069f186b64349abb143d46213a5c7c4052bde4832869a65ae30da1208fe8e0dce25bb3376eb770b6f90f091002e9a4a1f2e0cdeca46dd6f85a2b39cacfd0b4b2f160cd0cc0aeab0700c8758db3089ebe98af681f0d9174e2a375e5feb6678fb0ce60f52904c998150cc9317d0a0cf44b6c6d1f64d94a2a87ce5aa9a872a3a81e92c8708f2df94ef40a2669b1243d4367ebc37fdacaeeb6b6afae9a030b525815b8705304b766c776d0b5e2b6c836396efab0cc08a5e13447231605b119eaf16c184cde594df2f169cc7f3986e44c7ac30a739f733015393775298ac5574cc7414db50943208b854471f5667ae2d0cfa1a4051a235e35daf749c3048dea47dbe509566798053424cf2ea13bd8d942e9abdefe3dee8f546bc86ede2c2d1e0f9623e83009d44730ceada9d3c084641e65cd6222e03d609a99084ac943ce665312ede02478ceeff00611e19304e3f53ee12a3f45e629bf4b1585c1c7c130b34bd698df98c7943964db0fe03bb3391c128ab8f84ecc650891a94564038e9f987150e0710e98a8c12d52b95798752b5219c5a627e1a734652263500c71b59857d3d9633c3ae08b3e09cb28bae186b92793c5043dcf590ab57fb0bb40c455c7c6c624d6abbd7874aa33c204fd3c02339208ff4596e293a9be01a30f68838f027e1fef3ab61f598030b8a57647bfa9ee3b7b1d0e00ededf633e3f38e2cab0c9294c67c49fb489f92ced5b568ee3877f91e2c8de05a6e19087f50c19c58f3b781db117bf6f4ea8b65613867a4800c5b6016527422ffb6c9edf7ea5468a91012a4b7b38daf7f73327a3c2ee82300a27ae8615625b9cf0622e2eeee1e7c839de430ca1a7033abbd4f39aed757dc959be68b68308ffe94cb71d19a65f4f2d5af0b23b5ff5d3eb9fa470da5ecc014c4c1c241351f78180afa70a16b9e27ce97d1560dc24407ef24bd4b591b3a46864a2081064ff4c12e501a0ca28e510e145989f2f9c1f4039af43abebfdd77ee0fabe061e093909676f18f27130709562520f41e92916f8ead5241f854f98bf049c645870314ccd8a8fdc63ba36759c99ccfc5c169315a963bfa5f10de8b168ef5dfebbc60de6e19af003a8899bc24484a57e79eedd08771b6fe4f86e6eba9c84067757a785153a7f3e1c976e402cd13fb185623a2b02bbecdf3541dcfedb3c40f84000b0dbac0b25bac1b984b4b987d832c502f21e7757b1e1d16a02f37bdb1f506d47f6af02b706662cd2bc351471136b9f343bd6458dc2486277559ce0b68ee8526d1558e677750613504e998f7f70d090af5afc6c6f053f5b6a3859ead2d940b6df82122ef3ba018a7ebed45cdcc2a3989b2772e599ce326c769ae8d3cc6b469bebbf6b3ab4cf8ceb739f8b03710b91f6db0bd3e9feac20c2fd771dd63f3eb77d8bf01783d01dab6a0216502b6960a440157ffe11e982909b35d04f73eba4ffac768305646d9bb150e6ce49594a4f4bde963e51f783eb7216ec110dd33a5e2844eedcf693cfa2df379f1caa1cd012ae826c3c108aa915c72217410e87883abae379e2e40ca5dd5755d6993f0ce7e3be535e2c741f271c73be6433ba02ea13545f7282971f81b3b905d349c777724482f8983bce345317f63c9baf66c0732e0349fd27f88110b2e62284bc10b7331209cccceab501a957be677b87dc39b8760636cbf5d26b12f446e5f90c5f84614cad8f38c0b8266f94d4077471b04a7101f8404aa5c100204428598a3902163d32cf137c83c9b3bad11d832b6e974ae973fee04bf1f8027ab00401f3bf933cb68201ca0bd80ad3230f953297adff9e2b451dbd356f8692052a745ee6a1fbfeebe6e51c809add1b0d3c246bdce95384c1d1916a5b935951f092f1ea1631103b71d5757ea8de6877644261a903c68b1e9701f197323ac7b07244718c1cafa46e8dafc9f2eb2f69b4ebdf1cf54223334d8242e193268d85482512982798cb8c197ae791383c508bf8696c92e32350bd148bc05f0cd448f3784d9b076664e4e0af816497172ea4ffe289994eac062860641d24f116e0ab5a38d1c693c637f0e1ef30fb193cab21e3c7ca30fac9cee888873b489e67bd0d4ea52afaf58c924c5bcbb2ba53e551712cd76ad9ef10a844898c02d743a8f66e4b2157f5007ff3148783cbcf6adaa01e0a63058de6366b28fffcee36ce619a56f6c6465755b2e63ea2ac72aa8b63a0ae256afb9d2b8b55cf9a9d872a73a3f8ec28df649151ff4d6003353bee1f4bdea90ab1cedc258f347d1f89ed6694c8ebdfebf8f6ee39738785a979ea40079244c256e9d02f822e04c0a6aa98ea6e4afd76d495b2624800820b06749cce34704a8f4e5848ef2c7391f81e5415d054f60159db152892f9dbf51c4cfb3bb5efb53720b4daa484eb93bee75ffbe17aac226af149ef316456ac385284a5c38d4f497498db22a2314994ef2793467fd1c6a3cfd7aaba4847d9e0c3b78524524aa37afb3e49cd2fa67a7464b970aac0c8911b7c6a3c7a4450b5fc919d57183da557f775b34e9a10d2cfc381fced947813b03f87907277472f8691593208cb8b2dbf6f89f4d962786f6bc24fbe6b326d90452584e39ff3dca5c45f1d6a3ad63b5e92937d524d9875cb3c829d7c07990a4a30822ec7692cf970a04ea39fb5bf4f0bf421be3adfd1e9e7c01ee1fa61b44b2aa891b6ae3084f64efbac052baf7530521dea1ec9dbe9e25843e56701d7e0ef9669eb73c474f9512fb7b93ade3dc4f9d6ea502bf36b2198228f8119c2037b6d4815bc3588c07a641c5b9d3c688661f6c6a280a4c1d7a8417da95cf6ede3a93791fc9e6e5ccd46af160c0b13ba1204d09756c9d05f8edf49b8ef3655e443c03918c45b318c403ed64485a278f7cb1e9a374381d277b3843a594f4da3e48e3703837fca53c109cd6bbfd18c7b992836a48b2ae310843afae315fd40252c152367f405f60eb30b157637b11464b84f220796075d7f731e84670738bca2c8d2a633b415891912f0995ce2f189aeb367f6da544fae922a04d20ee04e4b1f7f05b01c63a4520475eddbaf11a3f6dbabb0f620b0e3d3379ce6642f109a7df6acb17f2ffd02ba3db7c959d726733aa9e4b1f55d01a854bcdccdc958d60bca7366bed067e2ec461b4c541ef2301cd07c47ed879ffa69c383573632b5c153d642cce17148ae1fc0c300f44d26c39371f8bd6047f59253e702d5036b11fa1e5c02c2001218e483748f1bbfb38055663071800ec5b43b0030d56a6c21ffa4dc8268310f8666aa90cb35793babc4bee341dc93ca298469113025bfceb8f20166f8fc78bb4db9375a5bf290cc6fd453ce6dbc211aa8c81feeff667a5e3297f93b0071f7917acbe2863b2b11c86adfcf423bfae984ffe8134b0c615baf48cc5bc7daf31c75af71fe473fcfe902e76ecadf8b3ac2c7958ea8e7121518a447cb4e9a63fb150aeb3555f1d5a753d7710e0ffb82c4980c905d97599dd215921c6e5d8b1c729ca9e4d751ed57919d4abce30beaf4681ef4ba396ceed46a7f994634f082b0c536173452065ff053825b21f20d074c1f309c73aea38656d0c95757fdbdee061687d983f34a31e886f8f187131bc224eadc558ef4662541d32e522676d48e53ce18dea31f77fb36f2498e15a027b53c87ef348c3e826a3cd176f5b3e4a3c25a4c8ede74c1639dd4399eace36e1b753fff38a019820ecb0516fecdca328eb7674572c2089fe9b8e7ca95227a6a2c36949be0e34fadd131a2ef1890d6cef3b30de94b5e31fa6a3a57cffee17fc9f32d28d00b0fb79465985ef3a7767d16d9b268a2d068502657ff9b77133089cc215f977fd9c830347ef35b6f55f55cb1bea89e4de805df5a2e9cbd6bd391bdbeb4e28f9271ecad8b70fc52cadd2ac5d2ee5916d37c5fa0cc94c78b38406698580a43aa0e67820fe98dc7f762acf7d2385689a0acabf7a17c7e9220f86dacc305a7926fb913feaa328997a582ac237c5f4a48b579264b2b0ab7d5dc2f6bdf06114221488458be92c4edc397358cf008f179b93d3a4f2244320978a95530a84e1b6413731ae7994a8d3c43fb7ac05ec8fcacf6024ca297d05e8246b51815c2861d5d2fd9f7014123cf4758c83a7da4a7cab83faf9af5c650e36b4f2ecbb8924d9ccf18a43a77291b57a7b55ff5d894706cca9699737e0e06c32a533a8d195a635dc806df1bbaacf5f7f819a7be7fcfc412c4be306a299b6","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"4290edf5ab9c348d0d7d0b9e329b1e38"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
