<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Private preview</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Private preview</p>
                        <p>Enter the preview password.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"8a610568c31652a8c6579faf6abf7f9ac932ead33df6e65760020eda0fa6ae4e16480479446c09404a2e935101110094bd6515d1ef1e54a23cdd24aca392899a27175067de5ea88dae40434b5bcffa0c31221875f592a527268e9cc23110207eef16e8825649954cabc7c6184695bb0f63bfe61bdeb44045958dcb0ea51cd79cc9369b1913bdbf4614a2628bca84484c8a6331ee385bc5837e5c9395f20c9f37c200191efa1abf188d55a2955ee3df303bb93ef5c56be862b5266d56c10f5a25bce41ff5d65bcdeb94e5890640b44737ae4b36db030f55f9ffc45707b59686eb3ae088979a165f7f6fe0ea35662ae6008e9e001db9288272d96d62db03e9ac9c679889a85b026f717c59df6502f8a7562c69d9d2062e6ca0f95e5640778dd71a8b14358a5512739ec85a00dcf61e303e4b34b9ebe0014d332b48634547c8b9825940e8eda68cd684394b960a79ede96670cf74c0306c56e9f2bf79c22ec7125d867fa7cd44e1b7573f2002d28b2dc0cd5dc4b9fc68aaa05857ff3012d5dfec5ec38e162bb76b89f3610cae698224ba78298d6c3c0c972f25524495ae09b94c15fb4077dbeb4539df7e89307fcf3d2189bf8b8f444e169b6debf522e89d65b12af52df44a5114eab7db8f5bb36eb3ea4b2422e9d5889cd419f11f8609715d5fbc6a587a4d7928cc5b5ac1c497079899241db7488da54edef5081fdc7a131766da88dfd73bd1f84510f92304986ce98fbdf025a7237f3a2257d0ce0d5959e6d45f4f1a8f7751214f94f9ff8112bfd45a5f41859f719bcec2d0af1d0f703b387be58eed9fe21267b7ba6c05da499fb9cffacd951d4c087c55214bf3645312e4897ce69214868b4c662929766f042192839719dc89776761d14234ad9b1f791ddfdf11b4eedef63303ad696017d73b4fb624bf9553cce89c0f511d3d07b51bf735ef4e5c762e5a31e0143d64c51d0fcdbcc998d62cb565b4dda0822b399e0dbe0920bd2aad808502148e71f4f1568875e051b008957c0b666d49b36b4b83613083b4a8ef64e391caf6763261b777db6b26af51b9cbb519d6bc300c83eb24a6eb11f78fee4a9625400caf27f8a13521492903e3251facc9a6c7f4abf484e0ae718dcabf0e6fe8fb7fe019ce9bc766cef87d95905aa9bdc0717c02514fc04e8b6e5f541be0c751e9a6d5d02e56abde1c1dc05f290b88dd0bd74ce54a70464eccc28e936a9f24a112907a09c2da5df66dfbc4f7234a56caf59e034d9907c2b82568dad316e9307ef3e57257f01dddbf9d006feea3432f0d8711615e16feca3f7e649fb51bdcca605127c556ec5eb5d1ff959917d26af4b584f2d4fe293f82fcc6f09a3705aa06ef6e58de474c374ea0614d7402410df01e7e46da8396625ccd46a0e790744eb2235c86f3f82178e4b5a3fafd189c5a52835fcaa92e6dd31860e964e88389623408fa1bee7cc4400d57f496c88768556d2f9b9574509edce910102870b17d78478b6d1534730cac8f5e3f88449b5a289b3c1fe7dffaccbd24eda5a37888e6d2dd8c305d67faeeaf9939a75e4c558a469f7895feb97522c56a073cc5a0c2811bdf0642203f590bbc523d6b72d1b93cc7da99254a0897c3686544a49711f2003496e9d36b4dc419a5422995b178f026ec1cf299730594edab526a186184ca61188dd16b0d6cac50059235f8662e9c43098d69e9baa6141ae460dcbaa8915463cce27f9abf273a6505f5ec8735ca345f5b5d83cac05efbf9e5528b703cdbcdbe6a3abab31e114737f4d669e406ebe5349ef7e49416af9d3bfb45108f40092b996e17533a4a85e55d63a8131b41b4fc83db44ce89e641bf8f7464ce5241ed42a83fbdc31d38dd398355e5133159ca61ab0abc06895a5563d0563d42164e34547528c33ce5844ad76d001bb9d1e70890e0365c61d34047de0b580ca36ee89054d78a65f9b9da4de08a1fb9bd49857bcaa60c7d75cb5133fa955b7443d8b68878dea910a6ed2925430078413946703e7b813cfde681b0f2112e840fde3fff16494b35ae8b4b7c188a84cf5d399d89fe14d02f6d67119925863fe9d1fa81f4ad237a60ba519cb3a156a1f01ece7572bd5efed5378469a7fc27f7147f5b5d5b9b24dc2a4ccc66131d8571b0ea94dbbd02fc876a7d37f8d689cf0586a2f2414b3026ced090b8c829f03f486fbbd324929d3c3e6c54b84571d2001beabaa64dd3fef9d78e8ea34ff4a849c98ab17b18f96ecae30649ad4a2df5139ce01a3af706ed4299a0fa5ba5bd24f07c2976fba6ac7b27dd5d7763662630f7a514af2f767ca02dbaf6b0252a2318ab948e9312510643b194947167de17cbe037cd824ed2b75df5953b7b88d42f89dfd32c97c0881a7d29f1d04df5cc6389641a58dc6f864d1969a011f73438350716ed32f419d36f8d6c772b6abfe4aac5d5bc6d5ef67377a4439fae38da0ba0037bad59af51256d7182a3f415df1323cfb1871b63cb2ad99a96c9541c66ae35211b1534d5711d9325003b6958d32089ad67cba46508b7fbc18060cd3da7420fe8bef6b7a559a59756fae2713ba4ca6313813b68ce212bd8ca11afe8c62e7feddb21bbad152ea95b739c6b3085a1012cc114a412d33a3555c0d314048992c00a88bdde3e1be2ee6cd75c4ba72a5218c5fd982655d47e71f8a94c038a1b796e5a1f732f3a8c47261b70879a7f0782c56107d02a3fabc48b84a3dc12c69cbecae661fa7209260174ebf7d0cc620d5436e8cb2f1bd7c1e9e74e5b1c14cf62f6f5c2525fb786bab89c29043899fdf662beb90bf300376a90f51c9d646ebec6613f67dca3f5eab0d30523e505a49d9d142428d1de2826e21d34ad1352466880fabbde371f10fc84efe6605c46e959ff672744bf4f5ca29098d0abc52635a50b57a3f870df1338b0383f3ddc3746fb897efb4bc9ca4f79b7433156c044f23efde06fdc3f6830a832a834965546c6ade1a035a94309156d7423b935290282eb501088ab921c56232605bb2707cb49ad5540e5e17523901eb084eebaea608b7ec4945a12d7d85fe9531b89bf740200131640956cdf534f2186db15865656294ca5cc1ff269934787fe0351023f1a9c260f53bfe5a89b32970a8cceacaa756620859aad3d3f135fdd5836f9a9734f5c966afb1293fd00698f6a5ab9b2d7ef1fe09e327b528ba1919a0611cef871cd1e7a642be5e8042dcc2cb8182bfd62464e6b2344b0a0fb15428eab547e13b725cb3fb5d43b364c50e655048ce15ea4b1d1e0b3a30e14997dba83b72acf1c10f9966943fde1a67fa9e9697f1aa7ff8d4b4242f25fda5d09b5d342737960710136f86d18acce2bc85fccb8b22e3f480cd422b781e9861e5ed0e53d36371b440b14acea2555a5122e6b23720177f8f03efec261c3a0426d21779894b99646ef58a222069855106e7e67c67b0a8d7c83e7d0791377100d8ec7a891587ee3a91d20ec594038fa536b93ae4d150fe91b186d7635fceee13a9d6324a9878a08306332b3e10385f7da0f3003bc924370d5afb4232595e5f7e56811d0305bf7f8db524f083eec5abf4131052452eed963587af9981520755b65e61dc2a045902f780bd0e847a30036e47938e94cff5fab1baa323ced9fb540e0401cdd4e53b0613e6949a14749b9ac38ff51529000be62d873701a1f573315f3087d2fcc81924be545fc49bb027674a78010733309d0e252a807fb061fdba1b84adad32bf560b89c56c8fef7318b2eebb1c8e94c8a5d2ee8382dec6ca7bc2ffe7f77730294478fa7355835df0e9024c19b0aa41ebf48dea95c32b9bf4ef74c1f56781543609e0fe773e100cd9e76a04353c7bb1a9a2c75ead1d10b52fc20c987c86b09e9cf719c6b778ab08227f7e4959af8b17107689b90e811f11a5440f2e8f3cefcbd956cfb2e16d39873ab2dbb12cca9f4ea438490b97f2742444b1062d9a6d961141c296ce64f7ae65754b05a33596a3cf9f169d9414ebcfc42b3df60426f5cf16806750e89bacca958c274099e0bc48fd06c16591a78ed5c2ce18ec82c6aff76bf94071dd82b943cb2c8b8367b397a0521cc908be7958e77ea163d6bff0f3af0e667dc958cf9ebb06e72c56c2fc199c5a72f9ea337951405e0dee27d2119d6dabe25a946d5810dec900e5a5fba48df0f2b52a43936e3a22970d8a1db1666bbfca8f2f270f31e6261476209f4ccf95fb85a990e26d0d5bc7a03329f2456d7d56b165f2fe7890d1ed0b136f7f4f62e6bd343eb8f390a48a0a677009edb8b3f64bd4635e2c5d4d48428075c51f2f9602db0f4765793cf3c5f5687a02d407e7364c6e4dae23bf47579438e9f4ee714f71be1cc5653504aa1655d58fe750d025baab4b890528bf9fca9a2f17e1e978e893002e91124e89e3e1a94c88545c78320ff1b32c14c4dc987b584b70f3cbcbb71f6c7097b5ecd4fb2ffeadf26e763e07b03ffbbc5c3d4b83acce9a36176b1f9b039f962fc7cc4a2149865dafcac0b81c31f522a1ce8f3fedb8c81c91e760ce79080738ed96756de39c66cdeddc186a17394806d31a6b292de845bffbe9ee7f339a2aca29452f787b8adbed3dc203c867f587c0c425c22aaf092822ce1ea1e3e6ac089a64a5f78ebc8a195ce53f40478b0fdb4faa01ebcacd91bcad0005ad798b5f8672e250b6c3d4a882c79d7592d60c21600c1c783554198498aaf046db027d03d25b61473baada3fc1b18dfe89125fed336f27294b48c876c47bb497302dc38ee13c92e5ebf4eced64c01bf664ed54704d7cf6ef186f0ecc2782e45f59fbe00f530c69c0d1c454701cfa441c52eeb3dbad012147a1d65a30aa325aa8a2cb4b1e58b5bbb5183efb8a7d7af682a8748526d746b18d818b931b79d9d28702250ddbd5926e4d55a195dbe4633abd0b68c05b99472f74789fa460ae91d756b01f44ea3cfa2761f92ed0489fb40a98a6c1349185960c1c14b403e36217b8ff1b07a7fb2fd3e6247482761edf6084005a1e1e11c42274babf3130699dc8a5f519ea52bebaf3f137e38755bd84bd93896d67e111718579fbe65ff4a59372b67a9da9b2eb735b9877ab81253d1b250715d4e46fa568214af3468ab2002416aa0eb6694dae30ac36c76669602217307ce11d1311c30b8f59438df1846a834f251d1cdeba90c48b509a485a90357f87b2d8a5a7da67e57de417065d31f6278a1bd1b95e743137bea10c092b4c95ea0348371dcb92da8d5d00baa94c4c0fb5bf85298824d81c54f1f36afbcdd578afa469096a40bbe1118b37a2236d9f139ec23ee63ac7b5d4fdc6fbd74ae416f119c3ff3cbc1d8c679f4fd30f2839c0df1b0b9dfda2599243f736f875fcb54cd3ded72613327544052b97ad141e427983f3f9ee1a647d8f3626f0b31e5e485eec3f4ccd5d9cc42cfb3a210992d98c04eb331b245ae374543837f2563538782106dea0991d71595ad3d880563754b44d967b0c3c98bbb18f0545008fa59f784349d01bec3042a8aa7c75af63f8802047f87ca0ee80f0af49ef949277238bcc725d71da72ad95990824496bc292263d0939de1cf7a7fcd5c7b8eba88cc95026e5b0800db67a50fe80f76d667e58773952a9fb70b04d359b23c2dc7e283dd7236e56217163749da1c06c557450e828415b3831a047ff9d360fd5ee8c2fe8b9e3fa9149ace76cfe1eb4011c6c881af319c7044601b03876c4d478f1dab853d95edc3bdc156d019b688664b20ef16c87fc7217906930d5740d88d70741b5f3853a5f18467b247de1f31e0eed7f450d4a031532e92374f7e1d4606118c9d4b168f2f5920da4d4bda20d061e548981626395b2dbdcdcf33847bdaba3ed4926c723a822fb71401cc8bc492cdfcf598c200c4080ee6ef0329f58d4c0fca01bc78678e6856ff0f4952b15068055570c0806a8f654fa5d50b181a97b5f82e01ebe671669403d142e379e9d597c4cd3670f8e2d57b8c6dd8c0f1ccf0530e9787224b1f38dcac5fa399d9e23f44c5f19fff1e16a1714c29027d6fa4326f4779ae7b30c1607f6d69b61899a7de5bcba579020eab6ba9b471aade8a681e19827f5a9dc823cd1545b62259c043591986702e4e5b2f693c8c66d3236c40abc8be9e8907717954588b01dc924a89fea869e767519c3c57366aea0858dd86a498fdcb88740ccd532b6531d35f04abd2f3950e9a61140866cd2dc4bdc25bf72f1ae435749213721e21798541b97a482eb42a83da7e7aab0ae1de0b25614d82e137358397d9e146850cd4d3546857afd8f4778e98b9f2dc589e21442adde365a0ecbbdcc5f0ae58bda73900d859830eccc95ed4c345d5d3dc1f1985ad02f917396c663f644fc80214f3824f2289cb14fc7c6c48c5793c15d066438c31638f1b00be6ec21aadbd869378bdf99af4e055e70da16b20bb3ffc0d59b77604a176c2c098516653f04692cd6d42bccaba3db741120b0ba21252cfdba237e2d79a476dcac498ef721606b0d002ee3cac5c974fb58cbaff3d9b90e7aa6d3e6b637c85522399d873a8a71fc4bed28a936376668679706ff41d0c8b6029c57a4c495c9cb7295a6d04c4035f0fb9ce2a59afa9c053f1010dfd6f95ff24d51b2b7f219018d7f9f4be6bfa97450581254da4f4b81c6bd042e14df15fb696466cf8f57ce9af5b351b09cc19ebead9eba8ab2877e926f9baf424dafc77d9bbb78f28ec544df75123d0734573f074810a3008639c3d39a0041d4de0561fb701037ba1a6c422b491ae9f197a5db3416336fe8ca05ce698ea94ad30dacd768f868f61c652290a890cc4a3c343cc766ac87dc4cd96c9ca886126f0b44b14854753b2cb942049a7c9eeb997c27204c5c5a53c590d88f37d43ec74ce7c5bd11911ba2540658f13e52617d9f636cc65c4e84be31de43336c99eb7994189af4a763364248433b3a0d947b7bfe6df0abd362413be446765697e646bc185bbde1af3840e98a241d576f7d583ceab3483cfe296378ceefab55932b69417472be6a4907bb71210259dddd8dfee7e8a21d484abdc63d20c9d391387b48a04d366a280e5c4bc05dad3f5c642b16e043dc9bcc850b8fa8db3b7d6bb6106fdc5465b4d0275d13b8b43ee35067c6d180966196d4bbf5c2073ec5c4b38934ecbac7804c64ffe51e0c3b33859aad9a041ff5eceee8a7602d99a3840ed9fba258c534adb7f5618a5759c4f72354049c7109cc835b45e0d73bbafd57cc43ac96c85246d74dff9105958eb1f1aee80fb2dd90bc1471c4d7130cccb99223500765fed6162534614d3f6d8826e33e428c883e738fa923bfa37e013c2050c63ac67ef065015901b93bdd663c941f20cc86eafbd6f18403701e7759d7917169bed9f82aacf55a902d7f0c2f8a4d63f0c100bcb1c8e1743742e93b7b6c1e20bf334eb803c6b6499d405cd78213b1f1d1986a7f1e6bec32d50f0b461a2e48807960f9967cc8ce395082fe4a8419321054cd0ff1f925b35f17157cfe621eac8b535cbc48b1f8be3d4359aa016ccaace3d5a8023e3021cc83c9816ff8b42cfeef9e2cc6c715fac1eb030961b802598b2694245c9f37353701f5dafac01184b873cc6d4632b422a092a42811e59770b7f6b61546ae87464f3fbe3f0d21563fa0dac11ba3df9c43d5d1f28ed8009ce327dbc9eead790331a3e200ef7c939842bfeacfdadd2c88eec32e642a350bb5373e4d2fe29e849a788a87ac024d227ae1635fed9b35fd5a9d01d91a63c92913e693e510ee8a2ff531bccf00e65fa6eba70edae95882d506a94093fa2ac56d747a3226b25e3c03b023e0a9bdd2a599568f7e388e14529c1c11ae6334a1a4ff425b290d643b0df6ec4ab93fab889b828bd81aabec75d4fdd3b1daa3e047824153b2d5bc510d2b412c72e8ee44b469c2968bbe2a2f5a649b3897396380a479ced58b0aeda7e4554a61771a79632d437f7c3e45aadce35f16e158d38076686bbf0a625d8d286b5822e5c61f8d037b381954e6b970de66946631e4669ac8c76893da249dcd8f1d2751669d3e876927dd3b594e1c820b2fb83a6a2279f412698a33e98da838596cbea5b31369df0dfd9ae4baa69b944fe68f5aa5084bc44758997999aa4bdc0560074222ae7428171ec8e4b1c8403485c18e13dce0c09568be0d0992f45a2c1dcec2f4a77c0a1a1cfec4f5f5ecea0a8b077fa239b4d5d040f27032070ccccda0f3852626fadcafbca943338627eb7d758882ef703abb904767ae3b9a432f3ef16bec7280633b3db2ae31ab8374b7f8fd4a0bd3693deb1b128bf7e9a8a226b0e4635ff5ad38112628624c9c31b6c72841646683d1732517785bc4d78041870730a4c972d4205b2757f202793eb4fbd7796fc54e2460a63b6a2710ed0a8b3bdd1fbb29de39b55d2c85d624e437ed192471ca262b636bd1e7f5e876ec348d503a02a5322da2b1a653ce6158324dd1153c30a928a28bbb56ff6389ed3c630eefb3d7eadee0eaa83e5e9796184e2fc5c6dba85d63f4603ee5120205ea688a8ec04c7559d53b6234a032c01e35e00e9be251c72281bad26c59d38ee50227ed813af172e10b2b279496d596711072c2a5cd5d925122de4d657cf9fd132fd2446bef1a44b2f0a08bb4c5b0900570e9ac0fc2f288940863206dcebf8d4f95f11a4d85b765e20e64ccf5a132af5a932f8759b112deb644ecd30827fbb5a56f289d311b3a4b58d9abc1aa01e185838eeb2caaab48288db3c53b421b5e6a1b8001f962aa4d5be71631d442c685b5018d1e4efd82930f223c16e93a849c2ad099cb559e63cc1116ee13dd013309937832c99e95ff6447adf9ef58605cec2ad161459a56eb93c4c0222b0e41d40578c021ce6b349b62b3af99b6fabeeaa3ab7130c1bc108e01f7bab3ad35ae821c080588b4fb761703e09d554ca17425659185c8f2a1b350dd40c4a9f751a12b980e0277bd6cf04f8334d8fb44aff8ea76915916ddf25a8b3fe0b8c6b47f8eb6e69c4f2d929cd0877a1d0c2c084c05111d72b09d8a60a66a7204b15c807cd2015d95f80e4ca7b0f88816c211b01fc694e932fc44cf14a53c7bd01146480d181b0384aa0441bc9d44f83cc9602a2f3bd48f76b5479d89fc446c201921ffc554d88d6ed01e4e8990dc892dc00ea44a979ab9120d66840f0be8ead67304ded3e12714f38750e62f48cb9558b6c25aba3943edad1aa8b92f35856c4a431c9f78fbeb524615cabfcb774ddad5ea376d72327c2de01a960e8017cc3ca7a4430057b1f8ca6c363f5d2d6f2c1549ece4f610e98742c0bea921d88d7d77fb8ecceb6bda232ba15f199f24d9f81276b9e9c156319ee366e2c9afdbc7fa1c96b8b6f0d6da18fb2b192f60fc4f869879593e57079032d84ea960314aba5ecbf36e2f4fa7bd3b64aefe2c01d8101197d04a66bf8e5ebf911370a780068025b95e51befe9d8b809d8a890187263adaad40247872f255fa9c5289d23b302789616eefcd4f0eeb77330bcbc07ed9bd865299f8c97e137e28cc5bd30e37f719d0fc91c37ce569572f62d3d4beaf9f77af0983f949c36cd393ef2870d0b7c8d75cfffd29a43241583a3556b4f19cbb9ef6bc0bcc2ad4f481ec07acaf72b3457ac5b54b08dd66e122f366b2d87428aabe8eed79bd560c63edb7c3b1c8479bd455f1e57ecae6cbb9d1b39164b750c1945a52c6a0acd10ca64c83e05476a20f550b8b11e75c4e4a77602e9720a52656398a43d7f553b1ea71f2c312eb8e1d5605102707d640d1d08a0fdd57232f74e9563ecbb84df8aca9cbd5dc242cfd95b32dba9766e43fabe981ee150710dde38053e314ea9bbf70a816f5354123bb30b16f8da78a233227292000c14f9fd9495f8509798367858fc39f36c4467000db094a57bbebbe7094da5b44c834902029679180d5ce6481fed19b522b3513196d5ad88b2c92d7a943d15349a5429169d48c797bba861f6bd692e7ab421c4f0eb4191019fe5de1b80bb377b1ef528d80515d616d57be94c4f49b85892a5cf05e5c54b4df54161cd80cedac785771c8d11566ba409727095dd960db3022efa9249bb105edfd2654d5767c53b6df227de2cc076ea6d47f700533e70e307f2d565168cbe9064368dda7a91e119564947907693365c7eb7bd6238adbe72e3c3f084794bffbb99ff76c96fafe1e718f3889b429f9ed7cff23b7e3bf64a8542cf0e0cce3cf4fe2fde282b2da3779793bbd6dd1f6b846143b185a5b1e8c75d42e416fe78be53959b616badbede4560024924207695559f4632504eb417eabb076d7d86ac46fcce3b13ea4d34b6cc16d417b69a983f38294d04b0c8782e93f981d9d896b46146fea935eff168e586d9c6cc7293ea0f086a90f8c31acb45f2f04a82f5d4b26e7bb6abdca53cc3d8f45d4812dfc12bfe5d0ac115af8fb267c1a3520c4192c9337baa86f49f9504f7317d805b1c63cde8e0a6c6b750c2c72fd061d4150ce2a80c6e5bc9187c8d1eb4f981183a36495733380bb9565477a1a00d35f12559655ec20ca48b3f3515d0b019c446698c48615482d093f5a0eb681d61f217edecfa1ba2cbcaa77479568bb0040dc92ccfbf6819eba7a1e875821126e1a4a2a7a69b9d5ed0c20d0b2e4397b30cfe87c1b9051468fb76cc638827d166556abe13a106c8400908f38aaaecc305cc5c32f51434bee5c1ba51715048b56d135cfa8d8085fd577bdf759a5ea1a6b2f75f7587d602eece072f4c7377e238764a1cdab9024eaea7d4e066323dfa89b3773f8668bb42879df204152872d943817d6daa216d2bf33a45350bcc2fbf0c152af7ba09ca46aa038289fa8ab7394ec7d149de15bcd663d59dde12c04d573a3ee4c751a3e94d91a664a433088b42b9123e8d80f2b9eade0e9393bfd8ec8d3afa62645500b3ca33d0e75eea650d3226771d5c43ee084f756b452601d7df283a78a2554383296f70e26660d5c109e36aac0a3b95830f6508517ae5a145d54bb6b8f3644d1b69db47a80e2028021a7a9c2ff2602c51f47fee88b28ace68981774c3cd91f222ed5b099fca8fa4592e14a9ef9f0b57c23e1b17280627170a98e35e24efcac5d5d2b3b1969cd8e234b844167b5e4b136130287fe60ac8024a941f869bd732435cfeabdfc9ff8aa09707cb7fe4c448e0b8033f650f5967d441294bd606e7a16635fdac803e4a3c4a214f894a7df5f5299438048b2b5605b74676b2f9a6a2e045286b46fa1a335d234721ede92b0c14547ca621967e0a5c2e26269d86280642efc69f86847108703cb255116ca26bfaf4135d375044019bf66637af5db3a353980df133a7b77916fe03a6adee6efe44147920f52a5cc990b197bf838825a2daad30bdb056cb5c5c7f1e99f5dc021235c29f86a0f5a068e1718340a6c320921fcc3c37ba38c3a7e09572a540907ff123f76af60d40e2fb47e6d7536ad3dfe44fbb8b2b9c909ab8845f80937f8ce313f94713b7f57cae738450ecd12bf7c24dd109fc20bb5eb301bcc79e53791aa9ff6a18f42eaa7e9178ad8d3eb6ab8ecad19ea9fc4e350ced7161cb0ccfe19d292c7a2f80c490aecba4435a1baf2830a85ee1686cc4881c6060b6d7657ef1a41cfdf5dbb039aedeaba921e9481a43fbb173396a310f4235c5c6718d54d400782b31d905ad19010eb83889a64287d27daebccedf62e6fad553ea7bb8a87e43993aa0568fcf84272c3eb96d7d1f8d7593ecda99b400540088ae8693f69c28ab810f714f911dd88d087c705bcfa2ce1cbec8a9ff245d53b24d77ac3764fc382f62d3647f28d279ba2215fa2e535062d3dc11158926aa9363da18a57108a38c8174e3abb0f553f55aa4fe0aad22447f02fba3fad5af507333be2f45d40031ed298d08ab96c0c83c49d33fe0e2570fdbb18dda27693cebabb77482912ce65c63d705c861399e278d2c9ae00514219604dfc9b34068660c7c694183f4de729962165038ceb6b03670c8ed98f58b22e4f99388347b017a8150417f357d5110c965209da169860176cb6c6df7f7962998be026b21a8512413e5532f184f88d157844416ed8c3de4277e704c46f62f804d445b8c2f865f637d063667f4519946a538dfb90ce315998a69ce9663c5fb2301b2cf9a8e67927b80543b8e520f2a916a7cef955548f60f3c8344db50607bf278da977e5a20cd95d33da285d27e3e4e425cdbbe4751563e03142e06f8411ffef875354cd6585c199a89a855aace6b344d9674a310c987b177da4ec78590cbde9dd6dc8d1796daf8e78b0b8a42418fbfec0c951043815ce1a8254ec4d7579b837af862b9c2ca0f275aeeda64d21cc543ea3ad3c59510b5e6fb0ea7aa4cf3c08bc322ecfb60203f7fc0dd290e5bf4f43c93f51cb426b35fcb9a62432620f90a82006ad01ce6e97caec48dbc73b591d677da8a6e23099e73ffb5c4aba6db10e4dac0b4ef820a57b79e999102fa9a631b96c865fe987773d460b92eaf2b9499099ff5c168087c24cabde833036966fbb48c7ff7d44810dd227d8d522dbb3480d74dd467f410b9a72efe01d6a1b0ea53026cb8e44a05912107f8185daf7866e69adfe0724ea6e3b3dd728a9a186b5699b591f785aeb9da1b540e350e8ee4ed961bfef6ff7265c2f29fbfcea9e83ced09e124bb5cd6940cd48e502270a9390a29ce47eb842944a333af8d845e0d09a496106036483001da629192cddab7baa0aca8fe4da73cf5849cecd52e6828456027d239b6fdb72f275f9d32bdf46af8d611c79925c4a1448c8fe273856dbb0e8d2192d3c4bbe034cdeee3eadc90f0fc4528f0c9a034591ed51b223bb2ab793fa5c6deccf1167778290a182a261895f884854ca462586a1ef834e9d9bc4bdc1c8b72fb6d6dde72ee10cd07464d0b80da3c033ea110ca63adbcd14389bbfcf010f2d4ebe6563ff984e62c9ee7e411be4f04f2da8cf4aac4ed3f25c94b4046127a23c478e6ca471ecb660c83797722526447939570e96eae017169623b3723626d83a0e91012621c7c571344aadec631d5cfdea91ceb50b9c3444601f18a682f7a5a260a47ba00b793ce06e7b8f779bf362f10dbbfbc01f067ba9b15cb4fadfc42be8e80c96e2a3134494e888d35bd6206695478b1b737006213b69330d94c4e932e64722935c2e4555787df35887d604ed20d13f10ae07e1eb91451bb1d6a1708801e37b765045e7c328c8e21fc7a9cf440bed1c9aa0b1cf5917d4008fc7b3fa30b663969d386dfe764a9ef78ea797fa926a12dc99ecbbde05585793a81cc9c0380fa988a1025fcaa49c99594f2d8768dae814901eca9f7d56187e5d20a88079fdce211859e66fa823790e9e20992b0901b9886209926ef02de6296b04a514f124f8687149a3c19e3f49ba856121b8ed0dc0efa308af9c7e6423a57d91d812b38bcaada3becf6deab391bcd83ac51ea0f9c8bea9c55ecd0aee03da6fed60df3c3edb2780d9dd6bf54c4b5b6a9dd0215cfb6c1eb3867c6cf2608720f7a3e338d06397617541fd87e5201220b6d37a78dcbad5d2d9e60b6aa5be6646cc816b5cd1159c3a21c23d94957011ce0319b4db7f243a7c6c7b81f7920acd7ce4d40aba2c32a8ec8abe9812fc36d560cd16f87b346cbf29af748284d139e9e734c2352a817e92263d7e1319185016735ad71e0140fc8fdaa0d05e10ffc69f270ea99a5613b8f528c3898c4174ff64152ab7796244e33e0141f33b2c16acdc5d561c575c4c7d746340d2d6aefe3774b48365b6fb59bd4c5488a320ad2fee2810aa8c1a15e818a2664c81426f4fc4b66af4b3c1ad7c60945ec6fc37d527a3a1ff3d510ccd02d8d27ac6c63cbb22a14f7dc8a0f0f0a4637ba01813c2ff923da7717d0706361d6863a64089cda2b6605742ced22d7ecf086b72c1371b3ce4ef74d4396accc7a7413f7b7633f91090d057a5818384ff9f91ee337cd8d571c27db1c92229f698e0489c2bfdfb02dad963e034b89ce0096651ecb95fc1db32be8baea4261a3016209282ec5773e80848c8d7f84c5283b063eb9a1d65983f2ba9a8e1138cd59fcacac858a6c5b66468d17139c3b1b4b272be5769268f1f827111f4d0dc70ebc62ee4f543f70a91d006806a7b2d114f29e4a49d99c3a45613e9bb7109c920d27ff0408b344ede4c1ef0fb758c3ac299cb3ce2da31e5185fccdb9849acc31362fab885a565ec612991a18750ba945a3d5b123e04220b042cfe0d99c1b6aa539cf444218cbd2373528952c1f021cb47f1b65dd20bb9189f0c9e430ff8a22a0ce96f2316e6609d56a01f16b34176c47969a5498ee71c60e1d7867a87fea31233ded340647848f0bbd7c6d72e930511a044c557d2594a67f111c173e092428be28ea15873af4d1aff3e025e68c3d3aa0c8da631f1dbf87939c12bae97af7b86dd80434537d76f7f64cffd5a004eeb6f7db3dc9d0d721a2f94233cba72709490966ecf4f73faec28d9a71934718c2fa5d65caecb351e47f9dee3c9d3f8a3b6d0c7cd436e453000ae44530bde6ceed69eb0e430c8fc4085c2e0b88f22309428ba08d54eae71fe7b8f6889e61d8c3c1049a1812d7d93aa6cb5a7eba8e3db76e3b9dee18b60087fff6488892daa49e7c19a1e5569bc07ccce1bd3e8f7838a0348b1dd2456f2fb804a5bab000cd759fa030c49a3830accaa3c284a6d3d0cd3b220cf65094d0e3f25bf20cdf0bcabf58c37d63ba41820d3623f64a2857097eb032ee98b9447414069e22c81de2324095c8383f697e25ee23b19f94839af65e28424f76945a2ef5d794eae96032f5d9bd97e4834a3f6cc85b35489dd5ddffc9deb046654a31c00babcb82d78e021329d5b92e21ff2b5b3cd85cb3859ed24f413ff66cf65df6512e95c2fb28c8058af00bf95a2a9215474f2e921eb3b208eb5757c51b28c807f55af8532d8cb228638ac802a6246a3c0f1600be5b589ff40cb6596f6783245148d9e6915e41e7c65576375555a8c99b629cd3975300d6b7a2ec19095779db7fc0e6081d6bc12fdbffa4c2d3e562442a98905444807a1d3e5c5786fa5a36cc66c5df653e0473db3366bcd2f6f8d6193c5145659821b6bb9d6eb60980164d686ac52fd1f655957c60b57cc7aa544bc60e6d62a5bae5c40e99d3c2f25ce21f2579f09704f4bf183848892b6f603fb791775d7e2fef11529e20dfefbbce1eb3a519537403082f789549c45a7cb960298ed855d5fde608456361b647bd5194f0dabd0b15a68ebb568a44f4055ffa8b9046a01b7693c544f801295b761f2e53fe96e1761b91d54588ff0a36075092fb1faf5759102d78f6ea40e0b4f75d16bf7a4384eeb12c3099e5cdd7ec76b340a9663fb3921bbcba287e6dc9a98e7732db608e4fb6762c078912ea9d2c7ec5f58c305781a2d78da98805da9a7a1d5da6a13af32e950d06d7b6e4bd90e787e357100c6fc4efd3fcfaec301cc5adcb25a5d4db5c69d541a8e6e08f474748817632cfc3d3336902777cd89c8f0abb320e921bce4c0b363a4394e111d5e0bd28809c199783876f8f95884855d866d9b03b636435139b140cd39a7e5b263824467f2fca02e8bf8f249771c3a8bcc6b1e9dad183c053b81637fbcc6259c1156844361e6110f5f547fac550a4e2d092b4e3953457cb8050e376dfe91f435c1eace643aba5bd1a2bceec7d70df722857f3a21ee9afb123eed75914d0369dc1a3b92b9e910c13d85322a10418d89fb08fc9ec16b6a176efe84c1dee30d5e6437a967d09d5c35a1ce417729d440182c4d91a7228b921f51be218322eb4bcc204e98833b00f974349bee5ff8899ce00294d4aaef6bba788cc980fb3d35c18434fb86e393d9816dd003a2005b37afb67ae1233787371ae612f78314cbacb5f049a4462446d233aab40d38b4df69cc6299db3474f766f5bde5a08ebeecb843a11de123cf09f01abd0131e0ffb57cbd399edeec3e6a0c9e9f701fb70d1a2bd9a3905f926bc8351613dcbcf28215bbd081edf0012af53e7dd4f19eaf894134e26baa2d83f0435af7372c9363987f760b839b64564b0cdc86fd3cd751754dc4bea836f6ce7c8e8592edaccbbea7581b872d2fe5c4da482a59f1a10f5fade179259fe2111021799005592ee62594ba7b062b62cdc9b878f5fc7ebe1b6dccc5caa5619878d134773f44f2405d183809a160df125774a07a1dbdd79ea79a1af1209a113b3a97ab39043b0e8217e03c9027d4159f78538335ca5a3375cd38b64e291e21e23dfdbe82ca972017326012c965b048c8de3d7bc166c846363697a0076529074f1fedcd50d6d96633b89ec6643931f3424974ddc082d706cc220b7329fd4adc055ff120cddc4cf7b3ebe4b838c5ecd0c0aa09a511c0485427c9ac4ecd15e49fdd8e62d482d9b5caf980f462087aca094a53cb13e33f86f73a0c5f0ac0d416124515904706b972c1f2f4580c78d17760e799fc2244f711c3c764490182f29cf2142ac954cff8860be32bc9b6bdc8d54aeb3429f2a7be383e57da416eedca456bf7c7e07e70cb0d251cf9d50c2b87411f7a040c11c807302b8d46fda37fec63df920e748c0a21c0d768adcaaa485eb94e24c197c427c8c9bec2ec428341db059d8c5c5f73a0c40662819097d009a7d5eadcaa57f480dadd738f368fa66f33500b335a94b638011bbe4064ac10a55e800a2bd3bb97a98b1afe4ace7197ff7ac8a22a7755c3210e89a4ed6d014f10567a364f9245f196a3561fa2fc8d04021063afb7604f131e7e0acf07a357eb72f8e104abe76a307de0ffe19b9781ed27e74f0a4675ae0e0042519549e766d8acec1397d3d5dae67b42e920a7fc410777dff662d2c412641ce5dbba4cad2024fabaec7ec77dec8c4f0eead8e6393c519c3a95fc10e6e1e878f701a5a2dcc158d377e805c1a987ac126a2bfe506284d5dc2216e10f16e925411369b18506cf0257b0261c24a9308eee2585cae9242b158920893e09112e1e89adf6167a81cd67e3a4b1fee7a9cc378f666fe141f5a8978a7fd3671ac48f5b07dc9a647f6c4c72dfe7649e00cd9496039ccd75b36de8396e730805768995bc988b9b2501b5050dc3b462fb9217fb00333f365f3cd2f4a145ccf072c891ef265e430a5e6efe4cbb92452616cd545f396b8d125e1d86c45f31833b396aa23a481f32792fc85ad1ad5138f48f52f1600f56f8ec178c445681eb4f34051d7b08affba5a0e9ac3cace531e5bf128e42b09aded11d43d0929ef50cae67c972fab068e3b6ac36363609a4345ead61fb56dbf4727a0eb678b0f678ce63894fc6ee52f1ac5f6805b74b6c803ac214881d2aedeefdf06f43b0b2372e48fa6038b7149f81274c4465317f3a573280a22b6bf1ceee1abc81c08c02e26a785e2e12870579e3009655e06ed67ee87041640c13f4e7ae14ad2be39827973cc83a248aef0d8b0f205a870fc71fdc95c01a1cc4c5cd8a5815fd9f0af3d42ac0e81d828ac9356e0a3db64338e96964ac1d0a58f33ee2580f48de3ef8735965bad62455b2e6e6bfee17364144deec22c627b8a0601c9bfca9920c99d2298e2a730554b1b4916dcc6957865d3c5aa7137de426d6f9804925b927fbf3b10cce78653f95fac51dce4174de056ccadc807b0f12668a0fad4e4f80bfa36fd2b3cfe32e695ce74a5e7b5270fd1c95c496338743c9fcc7b0ab089c3f2d9c61944009a5844d73cfa90531e2050f6f8c6c58f1a0df3df99d98b4f8edf094bd5a7fdd0d955f959e8d31f2e6fcfe0b143fa96b017334d40b9aca07d2dbb41666351c1a4b9a89e672ef23b0ad676b724b46f012728a090aa5e0d61f571379337a7e3ce1cc81c2e340067d7557299d520143113fadeaa77270fbc0a26aa17b58e8c1a176013acfea45a8e0703c46ee6f805bbc38afa338772a382d26ff87189c5bd2aff922fc922c5f5db5543347e6a59b7c2fd1d3de85590645d01bd88c3291ffdaf6520b0e04cbf82ec0054b7e46e3a2c69cbc8b1a3de44c164d62b22fe2b7ae92ab16a81f8245f9fa1d879cd23c02b9e2201aecdebac90e7150898ba64998ce6174e04571a022da150a4791ef0c32d987c262e241dc9c925a9a919581212db77f784b57bd822f312b8af3898b67ed8f22ec3b6ea2423226e97fb50d742138b4e1bc2ffff6c66e8a9490d9f4d542472bcea16fe6197bf3664290ac7ede3e54c552745844a8894ff279f0e29fdbfdeb5bcb86855001a7a5cc940991b878f7f5d66ce798a2f47786dda32da9f9390670bc7f027f98ef6cd827a4b04903417e0bea0366766501771bab26e767b66a2938757465b7fc86f286e17567a62b1995bc5c75ea614c1b3cb9d997d73540e04d4389331d86d7b546cd12cd8f01ce2bb4a747844453b45f8467512d596277f9e5d3347ceb417fb3593ba3671136e47e0f2c27fc6670300d585fc60e7b089199b554ed6a5f319b95e390f449287d6b9607e9873295875f60b6840c37d53ec8ac1f560785fbedf8d7ede0dab71356653e1009ad92ffbb6135996d948607cfbc4070ecfbcdb96d8c2dc87a1282c8d5f41febeeaf81832ef6b36941aa6f3578775512855f1ac7d308101871c8157f9c0af862492e2d8091c9d44f9b88e2f5b1a0d7b8bbdc179164842c6167ad753084ee127378a981ddbcecfa1af642b3b7ad1b80e711020164b78e6b36771b61bfbffbe8987e3f414c581140d6a0cbac94eea3e69413b5724d25d7d1b404519934f1da880f6219f9a4b8083f609d9bf51454b57d11bafc8ba58a7d905024a5138dd36e2c1e66c2075a8dabf9abb809cf69bc18ba018668b3cfe23ec40763a07da82338d8c46970cc26fbdc737ad0bf109a6f3087a0b76c9788515cd2dfc50a8c2d63de4a234f7f92b3f9a159db94255f1cbd9ead2ffa715155482ccbf470978e7bdf66abe73fb90ce9e15d15ba4e8ef6cd48cb0741b47a6a10e7645837f7b31b04c06d8db15e78c3b4a7625c83d2086054a7036e9804257244b5cb4c6cfe9b8fe11c92e7872aa3c8b268556dbbdec506f9c704ebee2e0eda91094e3ec8dfb72065ba937d7488534682b06301fd70b6c9591dd87610be3e0f9da0b1208b46406c3ee446476f84780c34c8f92544d2b43d9942861020d773e6b941ad84e23d28e42b6c24ad0c7f98a08e82fe828db0c4dbbd02c03b7d500784dc180096235aa09e4c0cec5a67bcda6a4c7e222ae8655ef7df3a7d7df2bcafbe782e030594341fc98bde58bf96b275c2584075b8785f518fbd8c5085849cd75680c2597621f575640bca7a5ab56ac6c93be340150f17004bee30f26bdf84d2049ebe1631aa8291040a9ade7873248b3872d9e5a529567e47586e881a696b2c00cbec5b8fb9d3e8e0c9af27684d71ab8e9da0f224ead62ef360c60a87fa3abd6268baf39909e98f9abb9b86a3ee095f449c615859468da04f61ec8f398fa68bf81940b9cf426094442dcedc02779bcb756695920393d6d851cd22bc7415f5164efcbb6b368108ae9ecc1f2503e2b45f616faa2ea1c2dadacafebfd81b9931d781a1bd4ae587f95fe6b772e0fb87f7db1c9049107c8891d0b91a271388125247d9ef38d76a63eead658a3237c1052e46ba1916783aa336b74e2bafc70da7149b686e07c7f8918eeb507bb32ebc2acd464376256f06b728090a0ee6a73b015a862f890fbaa4e6168b46a59205c39b825951a0262982bc21be639c653b8d2687c5a544bc63f9321a20388f248df3da6b2c6972649b14d8ddad38a100401cf611413cbc6d5592fde1cd99af0f16f123beb3d5d6368d1a671606e55452c6eba4a742e9826743dec9bb79f3828d9f1e1896b22723cf40f234a5b649b19aeb449215a897bc59bda8b2c63c60ac2e530a11a62dee165d95fba5d27b0740a8124d0245a631305ace8b533c405b723187e3e882990e523adbe272153c9551b97f8efaf3fd6d73ddc2ed608e47c0f998fca408b54d879bca80f77b1f276ff5f4d4fef474a6bc30ef26a10efeb9b255cea72563c88a70a5837a4ac25b9ee6dc802588638fa45607abf266ba1de99e08c71da8d38c6b1305bfa32bd7ce0c8b27807b7ebbdf5f9088bdd281ed05c93415d45b68d2bb0359ce1268552552743c795bc29ec610674dd1c585deae04cd0eaac5514cb259b63ef62f30e38abd21f781a68d8090258bc67c41bb9da38dda0e7cb0ee13807e20176e6f0afde8e727a9a5bb7cd05614ece36d6793cb8a225a54b02cd1c515ce0599e118f8c08292422d72525df28eb4d1bcedf187e006074cc060e42d236eae5625585c6dd4d139b117d1befa08d7d0cf96c3be1bdb5f299db43235eaf018344ad1e8918916183abafca19c335c908d082f4a76705cae3e72094e605ed3e6129b20cf3e84465b74a8b824b555f9a193f68e4f7a41d28c8f7c5dba22a5e61995f3a2e14fc0eb4695cc920dae48bb69e3543b2ce2ae490893a9985549ab5eae979a05b321d2e16c9366091f8f1e89f37a7784fa449000cb3ed699b1c7073252b5ba33eab378ee474a1709ce19f475544f09ebf3694547c5b2e1dd1214a014e1469c631312f2adbcdcff381a76de2f8a90cc6f4eec095f775125fde8eecc267d1803d2fa1330d5f9e09156143cb47a5ca61b3f7648cffceedf3a00e135497a660ec8d218447ca9ff8a40bf07fbdaf6d4987b22221f273c4f3f96eba0eecd1ac7e85817ab18a8608efec2902ca317999bfbda5e4e301e762eac3679351edc41c16f13706d7b66e07f0061f8f4944f9732f03a7fdb139c67332b2f7747398a42b73ef3b8d4e3c34c05dcbe1812d3500b736beb7bfe138c83340c1e4cf674eb904964b7e5b0aee77bb104c1b6e8f740a9ce5b580c183baa96c7cd4236e191b668077c480ebd53b94653f6bc71b2f56d3a9afd43ac716910897b5f2f99e0efeead8898be8749f7bf6be3a50ad73b3b6e8c985bb8b259f7484214b8a98eb2aa90cfca75dc959e24c8948ee2971d9bdd659d21f6f9632e7eb5b44ec5053b90f0e8d622868569dc4565ab2957d95d03a6f5514437e335cf133266c5b083bd683ef6b24145d86b40c3ff6de8d6498ca40a59cad63049b7640c63948a1271485ffce6ebbd023797f9b1196ca6839810d9dd9bf2fb3d97a2ef05a67a63d8f7ca94d5589f8e9e9c76a8f9087bb9a7bfa89b8a1146d88f83b737cf2fdc6db99cd7d365781aaf14c2add556dec718c5f9f4196acfb5d0c0101ff23b09a163a797b8324e558f54fb2ac1c461eb9d27d074a2f57629f6dc7a007adc247d484f2b8e64c9a5c8d5538c5154d691206733d4bb36dab5985a699c2db6ff756fb29e5b07a3ea3484acb8ac3e646edbbacf8eeb7a1f77d2f97004f16b17b10bf5621dac00f394f120574973daa7f9cfc259290175971bc38187133987d5680876bd92df56e972ff64c93e1e2655e233fadf33a5c6c7c98f35d61105cdfb7a3dd5d2dd7e8ca35463c11b0689b5cc6a832c08bd2f28f0e7d8d868b1542c85c7955f38e53418329279d17360d57c9b9c261da36d1902a9fd4218c398df0acd91a748e159f9d087d03b09f054f31ad3c72ba2861668f438573ac676d313968f80f08d2a4cee798d5264aa19f3458f3ac742f8c0b8803cd18a33d5f6f8b5ae46153dcd4a3291c7dd8b6105e91b6e03fbb992449fd7387e026582d9399ab1499c9ad66d3a3b72cac192a4af444a50f0e5860793fc2dc05a4ef9f8f6bc2e25ab826ef0e815c1d8fb9eba4d3c20b0880caa6c3c3341b03fd59800bbe9f7cb7a0af01b4079a778aa25d3e3e137219f2b414f68c821b7fd5818148ec169d79fee4ece754a0eef3e3140540f917719245c67d983be25634bcc008cdc907f9e209dfa6edb787f4fc3f82d0787bf9d11668766741fe69c666774bd33b2d39d8d7d3bed7d5934f7ded9c00ba4bc01a0724138764e3dc8ba6d5f9023598820dda93d8dd38936f4f6994f8ceacbce003c5d93cb54e432a61ad46149accec55d8905e04a9363ebf457a034b54c8f2b205d3f92603106ea4bd9deeba1fcf7ba85135eb9acca20836aac9ef467e5c1e1d1abb90d5726abf1a7b1c640889fd4b0f76652af06226891837953374f03add7b55922d6a7dfb63a83b52b8faf2291e7f5e6ce8dae26881ed8d706672603987a9f397bdcfec9e096eebc516e055999b7fe457cd25d4ee5ba5582f0ec1a392e08e6fb501a8aa084eb27a39326b25f6ac0a17b30cd767fe82e34ff2254d4e8306384bc7b1db16bf202385149d45bdc0a0473ca30197da8b7c072edef9b3548afd74330925095f481689938cdbc9940341a5555fd74925c948e743a8863b6d4118bff1e6938e08355bde3ef96ca979c4e11c92e650d7f62c0db8cb692ff028e89bc9820f952a6c7720538e6629f1749bb79f473dc1eb5a2b6321a3a9e64b30a0782359373381880cd5dbe23b96092bb63e903f1ace91ee98255249132635840a2ba286ee5cccd9fa7b4193083f2ec0138c5333fce1c00b56876a11bcbe328420d035a70aad943d5ae30753a157f8cff7ecfaef1d9bde260f3d17a2639ca5b0a2789a282bb800e1fb20c5685538ad317c4cdb9b681186258c149a8a07b01814053074fe2388d09149729f38942af99cafcac4d75c86b37b5ef4ed0754da9c6707f2ddc4633c2beecb07b562ba06736f669bf1d667339e0ff650e35dd25575d162c1384a2de47de384f454191d3df14731c91de8094720dc0acac496b5d800296ee0fb9c054513fe45197c573d7de5254597047281fb8c514919ccba10568fe1a0550ab91269b99d191de006ca3a4d0ba48ca411bcfdd116a6de1e5a8ed436f7fbde59e7f1e290e37a8b68886dca1e1ae48488d0197ee56a4a8a855f685509b36bdde461ad94f68b016cbc13bfdd375c23c59cbb588974fcec12ec1bfdf662b6e7c6d3a04d18a4af9d1afe9264188d0694aa4fe03eb34da8b9b9fe24f1dad2eab2da916230cb06440d14a6cc30b861746bc17fed1e68e5924a2c9bfc9fab450e007ded98a2cd7a60780d05042c5f889fbdd32b433828a3d519c8524e81846a26c3910d4660fdd7a27381966299e547db71c3a522614313d0baa25a733489033d5d9ba9f760590bd1bf523d82a28791c76d9e7644a2412905938bace293ac10c3f6d14dafe7381e8da4c8377e04d96492c7acd4b545f8416cfb30fb5436feb43bbbdee96b912c3a98257b6e88b71e0d6740ae20d4ede318aea52f67c2247c867839cb06e2defcbfb63878f10ff97733b412ba665257a9ca0c72e8624f80e4027a2ca08c31a0787922e2fa3a5126772f6f11f60aace1d7bcbc1ae3ff728481c815f71d15ec27c29cfc6bc7f90d19e31ef8430fce033a7c0b658707a0b288fee8867f9448c87e9c5a71b49f341f5d9cf399211096367e0720d3","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"4290edf5ab9c348d0d7d0b9e329b1e38"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
