<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Private preview</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Private preview</p>
                        <p>Enter the preview password.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a16fb3390abda3ce42470e7ec1223e020f2f96c4a18044b71d4bee6466fc0d6cec4997d5b7a580685387a3bb2f562b88b13a476a2e5810b09072cc6ce2953e442814e1784d24b69ca14a00fffc9e93b81d849872c936e98b6ae3989aa6f17f434f7cbd555a29d58853d1faa59f710bd985155e036e5b250f481500bfddf9e6c7a1de4248f800d758a9737af0546ba5ae47384191442e5eaadcefffcbab2ef27d12772cc31a1b50d2fabf61ad6ac811bf85aec1727e20e47e7378a4fd96129b60d3b90de396113f01efebcb672f48b7a5358ad73ef496b2641dc88d98ef9644e30e4fd2f6bc3f9a43ba1064b9bf8747adb68eae24605a5d4655aded99fbe5d63874671265682fed34d5099d10f2123495117245d5c975cc1b00783320a070dbd71ef28724d59e9dca8952ca63826bdd94e7344993085419c101106bd9f68da18abf04786a287ae5d9fd7074197c1ce16d45fe7588148420b9e248ec7e84549a763755e4ac0a127f57175809245e87ba481571b4febdab2a55fead67deae9cdb996a30818193345c10998786b1d86e22b951f0b92debfcf74f0d9ec9f437c295090e97a490d00935cf7ef80cc737e55aaff7a0309d29398a743faf83008b50218a67bf12a382fb70eda420d4b4aeb2a0fcbd361819dcdd27d39d612dfc920a06b83d37476d7d0112fdfd4b5b47645859086994c45a05dc7a13eb362cab384bcdc586ef75678a9cf4c37f8daf81612cceec4994465e90d54a408e567eec7f494fe98d04b09e6daae881c96accfbe4682b58d1fe44869606b41c68dd54aa60003880abd793298c4bb9f8ca2816ecfcc1cb12e7442d716a79a2588a5329e3abf72c083f9232263bd0f6fbec7070f94a40b8b65fe1000e5bbf4cc886dd9a6ee1504b0270d89fc30307098eab8ac774e760bd95d5f014218c80decdb54c7af689db85610acfeb1d957e2c664c6824eb4e6a2f9e8f19d9e04ef717f1378e351e8783f4a5de7d6c910e2afec3a925d00062e1bec8ffa0c21e2ae69fbecc31cca91d03fa3637e335dd96dfaf6b61185cf6217482db2650bed05a6d6be25443ba351e07b061c31db2da6a95a27ef5483e53fbe39400a7a770ae35380e3e73c19346afd0558b1e413c9ac5b446de203d8c7be73c1f4687bae5ded387b5e5f4feb008338db840515a6468cd6cf17a2eecb5f9cefeffdaca2a5c44cd08c07cddd6714ef9c7fea694566c1e3ba662fccd99e1a2d81e41e69721bf9355914a25d06db73ab3dbd6fa9df0fa2939180ecf0e774fec2bc6bb56ea676a3927cdafa01271891fe0c15c927f51a87752211a7f8620cbec974d18979d36d5256a9b739417c555f9c8fa64ed01ae2e06203c1272177944d06cbd5f76f95f3017fc7494a2bee8b09b0e08b7c7f44dba5ad63b00c5d8ec5ed273f3332b99daf87059a0c02afc9fd2b95bc75d37064d191d1ab711ce4851a4622a4bb5b00789f05c218daa19b9e0f983e2dd1b5d38fa57106d976fab883bfaa1440d5d8d6a30a417271577b3805615f9c42a9af3e0d88c2b6529f61946ada07f1a2c37353c1fc229be70e3627c21e66604f7f6db15fa6aca98cbb41433bc669f1b01e75f6b609e6d6139c96c3fda182bd51963902e9537802fda1d7dc5c8771f3c898aee4ccb22c114a57cda1802af3b7d823c39e6adb8a2a47cd1eafe144c0eb85e43fe61c9be31cfab14606d010333c1ff4152326f4761b42822fe89abb314f8def85ca38eb900d9129e89ef920376aba90466b365b2cc74a241f9b70bf74376ca5c5dd4a95bd3ed0ecccfa2cba476155b149304c01d83f1256c63231148fc3706b91b95d75943ceee32b4890578fb7e126d97c51fdac376d85fddc642a764b3dcf235076b6283b942240217b831afd99fdffc06bad8727673fa1a26dc0b1231025e08bd3ccc9a1fb08effaa69eb493974c4011cdeb900ee443216b7fdf148d424d064795a6f9dee2a2e411b3d0ea4d839ac252c11adbacd7906b169b88a822455d7aad2a5acbc2cc213792716ea10959b97c6fa7a4faab8a418530da535d194bf484485066de7bfaa8a3436085594d1cc0b17e86da6dff5e6743e33608192f366b357dc7e2613feed554b92fd60c36dd8891844f10d8ca035a05197254ca64b483cd238f6e0f95ba69b13c87eef1ef84090dbd5ede1d8d3b0988f0e6fb2983aae7c7638026d04f6e25789c7a4df01d333fa3e1471ab95d5c5665a722194f0b0ea10f2e00fe3de7a3f8fdac6e32f97406c6d67e165e26b66c5587392d6cb179bb2054a41c854e25cbfb244078a96a41f7bb283926784637aa38618ac1e24af0a623bb7d1d5feb70051a08ce8a90234c4e2781fe69ec3aeca2d84201815128eadf0604a2d8f1dd843943c56c4a7c57aef6a5d6454a083c919e4339ddaf4bec1d0303cd0004ec1bcd61af0d5ac59ecdea2adb01cebe8b70b4296ce75aad2af6289f6401ef75c37fae88afc21dbbedf38e60027f95385e7e2f79a6273d4c5017ef5ecea57f89bc9d65a024d9d9dff98bb467821a944d2a3ed5e2cec49bbd0d6e36831b85e51a51c8e91d08144bb2efaa0a78f5d9cc88e1c8c9780dc5f807ebd4cc13184b927cadcc65db7acb673ddb656590df271376e6250f1c6b652de492279146f9b309bb3557de8ab8664ac9ae837b93b5793d7fdbf5e1dd0173152f9c84e27b17b357e08318db8e72d5a174b0a4d055e60d8f1ceaa0f4481a02b0dcea00a11c1e170379f51e72a047fa98ce8d00cc6f10f0f7fd01a8e1f317f5b27b5bade1140e860ecf721ba9dcbec21ed7e78b118da4def4c99a7f2ba8bb3a5b88cc326d9010e25c56a11409f9a4cc0a7ba721a7606cab82eae9256bcd648953ab7f23fac2cf9c23632cafce76e2187cdb7277e456ecf995e2effdc8a6ca03b938cd6c2f53bda86212a0fc7d341ba27c51f35f7572c30e1580d9a91f2093fcd2889264aeb657f78ee791bee41da9c5b4b2787550a2ee82f28a509b9f04b189853730315764a7537cfe52bba54a259224e7ca3960e3240a3d536dcd18f1b33ff18bfba981635975d822c00fd8f8c763dfe2558b9cf5d10d6ba5f1dca6c0adc323d5d95f99d289cfa667517123396482560245f0cda2409ac69a8fee99016641f9dcdf08d774cd164834a8b2c42bdec8a1aca45473e04edae9319591bb512ce166c182ef4226cc60a2947191932fe113e0547c4a162a3401f7db6a9b0cc12d738ec2c13a51e878b18c2bad4bfb4d5a310492a10c6b221eaa0025fa012e7b345c9ec820033dc5c8ce9ecdcbffdcd5d94fe4dc0a0ff926b653776c3aa980ee33ebe1551c8f53e06e098a8fe1d351aefca1ad1b5b8f6d0eb5d3e24e95efe1d066210c24c4b23280efb7dd0c1144d88ed3e7540f4ef6e17ba1872e88887226e75dcdd1a77efa061bc0befb00ad4f0b65ba3416b6d8465ac7325b86b0a45cb31112f84733ada3cd53c8969a529f99f68894cc3df0b6d6434a764da70ea2eb3ef77981ab794125e172b0be0895a0509f817e34a4777f08c72dbda4e108a1263b53f44f4547d14958be23a86d280495a894726f7c2a214d869a6f178d95ad1c88b81ecc9f792e687a4ed653e9a0b03511baced97ad73d75803b997338209de91e889cdd7b57ecc896f6c8319b6b7aca96857e75f513bf1c7c7767ab07a16639ceaea6ec27828394d10c574073f4804754ebdd21270883898cb174ac62fcc9a9b23939d7d223b13a779abdb37a7fe6b3f471c42b2ea14645e08393a4aef11e3638c0e919aec76afb78326d4b2fbb0e63b434c5ba863a704493302244efdd648c3d080cdfde7df3d294ff9f93169e1107d8bf69f5c5d9f661841da61776a27c08044f4667e83f188741b1705c3c89ad2018531b7569b964da3d5f957e08352cc9f19a9c62ee6674859bd4563bee6026dc424210c0af0864486c808a4653a0359802695d7bfc9715c473d503a0e9a1d7c3b2b18d7113239eff55b20483905a31335c005a73e4628935f159c6440118e72b6f3f0803c661d81bc262cf92f36b540d53f0bf6a89b1375ac82cc0e5c424bc2264c324a51d3af0c993d8965f7b8f4398724809d69e545d279858341346e33d086eebe581a1d8755133b615f937e0f5c0e89641fbb28a82f7d7727084a11ed47746fd993e3244329add8e41fb0591ec05b4dff2dfcab0fd823edfb53ff094cc2809f07b6ab3150066b1eaa9922b7ee899638988d85ef05cbff351938f9acea224408b34910752c546c34fab522b5ec8b3cd559a628985a99d131b98b6615408a357001d8fcecf02781569f73a0a1aa633ad13a9ce68d5585c7ca93dafb52ef457e5bfe7881ed12a3a128d925736503f3b8812998815a5df14834e67683149a641304258ee976572e467410427336e68cbfd86fc00042176326957ae6002e5692d19693a65da2fe54e86c740c766d63d210b18ce7305d5fafdc7a3202e382188f2c9b7c1d12b74e29b8449b5e831d9c34ba8001d5de10431606fe88186dac6283d2651ab765157d1939540aff93bacb7070e8c80173d9509498ff5fcebe2f0678ce54eabb34d959bc2c1e8c0b000409be04fd7c98ff1313356e69a97d46c2767c6a95a6dfebe880d259036e58725eab9ea96b0bd8d2ccf4f175c2f50cbfe62f3d02d40e557ee2b30a7af6ad17c16f1fc390871c3ad0e0cde00086bef3f97779a27f1213a170a0179f7ac393e7ebcd983ec30788121913e7e87a53e80e9d5fdfd10daedc08684c2b66322065906ab8daa7945a5b9e638d321153a6991967a1936cbfc875ee9e2d04f82e2ee4eb10c220e2d7b8d986e3c75b04c3416fd29398cab12108b0915abccac50c314728d5f319f1ba21f776993d6cb27c4dca9678a1fd70711aa001b5baa0d1f558798cc1a962b04a05eaa59b861c9ba30fd2a7a51e5b9c699a3c96e6affa4c232412e9683352ebb46f8420c83dc70ac93f6b51444c1aadabf89f1f3e5661a0ee000fafd9f2e16c0f4740043a290fce15ff5a9e3c0c3ff242318c979e5cad493f9e5f06821a3462b69f004f5a2484c45e65b31b2fad56ed29012df2a3edb1a13dcb1111e94079edc1c78ada6c1114abd646c06768ee6d84fa1b11c10ceb958954d1e636b7e90c53d204913eaf5bb98afb284bf713fbd801ec156a89f0b12b66bab52b8aa8621f3a39f752a06e221915520dfee720a41aa952f643a5620c7970df1bec9d74b07e9ee799760913ba9ee56c46e52f990b7a266f4296b21add061afd7528fcef4cc0eb88a426bd8cefcd6af19da632c93f877e6c9b9ccfca630d7bb402e69944da64ef7fdfb6605946090fe0551b0ad4627b675b1bd0dbc43d46474efe41b594c277b4fb8eb3d6d3593bbbd7f816e6fd02d485c5b2663fabd30a7f31ab008e0f46a5f93f1e64c37da5e87319b500ad4a6d52fba3c447a29089f1534245a316da651c853585313b26e4af417f733ddc42ee0fd378904667747aabb609e28102f48168ec275bf777a1e56f0af31d1473581008cebbac760a76ff8c14b75c5620cbfa15e78f12c88624e9687aaf7a1f63df123df35364f1b26b937e7abcdcbd4f6a90d308141d612acbac81e67f6ea4d4a6f62f30f0c5594973c424e77e6b21597be79b3b4332fa4061a0406527f8ee83482f64d886da3fcc8dc1224fc2cbe4a1202f0fb04e0fd88139176ddb01aff4ea1e26bfd257705d774345fd410054e75c4076b9849b456239387da53d00e62b3b72b9a948734d0ec2c92b31b659f3a87b0128daa26fe48553931b474dde2d738899e2d54ee35c5be52b58ed2a2094d81133d75036fd6cc102972349e6d5ab92a70d8dc752c6e92748eaab4ad30619e907fcff4530d4310b8ada763207bf827f3a24f65a76131105d3ccbcdbfdb912cef5bf6f19ad30d4f1426c07f0572a66d165ecf68ee68102bd6eeec0558aa4004cefdd2b94296461d812ef2adb9a84eaf33c00988d7b4088cfcc211ab2ac23484a35883fb3c51672f3a87e0192e3acee73c13ff15fe883e03dac7c1fa8bea8bfd783eb8976713a2f6c25e9399c137083261102d31db23e7b6ba037041d266c6bf00bf03414b00e002f9b91bfcd96babde498626568eba14942d5d7bc7b3c52f93be3f6ab3511dc7b365a0e425466c035d134f9f03e2e5280750c3465bb81e39f70a5bd8566f349cfd2191cf48e4455a34d9413a92db7de2ce8c2a5949904d2dcd71279f038be20ba78f56552f9efe435acab5ef3cc452dff1b664e03c281a87e7aa3253698793d07c5803effdf9a17a1a781e16915da1ac909ec06eab19076efffa88d96df3f79548ca20f88466c284dd4e1da875435b3dfe54bb9024d224ed657ade582e5c89fc6dfb25984585669a02a99fb86cdb519b975bb74d606132dd5a47e34aa25c2d1c119e8b156c8d59bf01ff4f86fd261beb3680e624b85faf34e6121e12e55f0f34a29dcbf20a0f3375e7fe801557e10fc1885874271f482d9f07a17157fcb05efe77433b59e95b83b593174234de2441350771aacdc6ff3b5e2e252ac2673241e471c18716b9de34a54183f8f9ffec4177a8d1fabf6c14caf7e7e585ab4351a374ccf22b876493dee803f7d56e0036d49d99ec898a0fee6d5d88650cb81dc73e28073ed5ea1108d574e86b0e74ffd469aa190624a4de4a66ad364665464af40f30306fd6976e8f23b31ef4a529fa409dae9d8fc6bff5be235491c8094301d11d2666bd99f5a76474d2dbb892bdb1f37624b2df21a0c25be90695cc709cbe3b874c255352f661a38140c6a34afde236814b4f123fdefaa6fb3e73b3e0a5864d648b317bfd0078f33b2bd92255b79a4d49bcf17f1884e9751e54b7336f2843c3167178288bf4bc883c9d3b6c09548ca16d472257cf60742bef976a7b712315d9e977be0dac36ed85d7315a2987252622b6e943380d6428b9b42283b3493467a103dcd4a3619225297f524e4555272be0e2f16d5d87514ba2003cd79d9423ec0580e29c98c0312ce96bfc940d34afde975f9c327b0116074366037e19e8b8dd691b2f25c400371685d800f8ee4d3782cd68c096615ee505d4fbfe9f532f0126162bbfdadb055c74773d07a0c1b8bc4c8279f60a11405946dc3acf0437a1b3a368dd3a555de279d33ac0c0a531e79039130d2160dec573ab61c32e646c29d78cc710d4f39b21a284affcaf32f14ea8105dac9ed9b2b27d095760c9c231078acfef1adc30f3475877a37ca63921825acc6594aa9025163a82cf96ab963b8044ae585b6f4ae39f019d76019ff9baa0dc53e44cabe86fa65cc98cb6beccd39d647f295d8b1e44a7ca0e5760fe874567c68e9efa2c5448cef7079ac71b84f1190afd08774ce7b4a53a6c2d5923dfd3d9e1cd6d140f82ccc25005df01be59da4810f9582d0918eede0c2c79b4cd7c5a7b929ababa8f762c0fecc196c146518069d1816e65613b07f299ee18791fcea5bbd80f669f0668a10449dd05b96f577da9eedf2e920357cb9c5eafe262b895e5b4217bc0293d2b67ab0a3838c5e170f87109dca901d1eb1eb8a47724f0f9bfe5be4922b86cfe7b5ed6599c72963b9463967029603873639f18ffac636f009253c24e8896dba60ba9b1fdccaea5a6c685fa023820f0d4d8f1e60645fde5482763f6e71a0e70bfe53f99dd49a8b671edbde9be2951bc616045f9c5e4d1463e426b5bcedb244d953edbda5b8ddf9c9fee7fada7715581d4fe5ef6939d00c2500689760fbf8ecb52f6e7a730edb04d6e7810d1cb511580252edef34fc7bb21b6e1842c96ac8b87b874d5f59b3e2fa5af0fe28c00cfea32ffd37637b3d34203071ef53f590da50a7c8016060f3a4f24b7c9b0d0fc6ebdc92a2788eea6a6eac5e29bb3e3786f02ecb6c77cf5778e198afbc55f3d1c45dbf439d35f1eeaf55ca34fa2c1b090461f032867d8174419d3bb370ca5368431df955ba6f4434061d0dd0caee090de3a022fe824aeaee5f64f30c1d05fc5158b6512ebb110c2d13aabf845639de65dadf2244b550797f3671cf8e7786c33344fbfb834c73836acf8f56e80a0c2adf0f66784079c08479149a514c916ecd744f6f7cfe77b7fa6aab9af6ddd491cb29e3ac7c355260c8adbd26a84707c73b7c1360230cddcfff4e5537c5a16620b274e4f5562d5ccd544435008bba4eb37fa91e807a15b36e921d0647ac904a0df4cf89f8b8ef9bb737be7da675a5aa5e54d60aceaddfc9a18bc3bc4108d7c22b0d21c1dfc26e4709587fa141eeb2e77a6fd8d5d53c8319cde27c41d7a5db878be259dbe8c911fa81eb2ec08dbd324e1adee338e91e7784f6a7d06fe6915a8f8ea376af0e2704ddfba6b92b8fe1fe7f57074855b7d94eb5c5a3f0513b75fefaa78082d888528948336a56b74b783484c25b36b2e0a43ab718dfd1604202ae2e0f6584078d5ed499e749eeae5c473cf6d6035f3ab8b0d76c7cbf356c7fd88b7b2a31f0321789d912c0c3119fd0a78764b12eda4781f08a816be33c8fbeaf9ac5ba7bc664971adce3cdb4021ea5d3253e4e4d489ea989d5b46151cfd5481f362cd98656803bfdcd82d23fd948541b50efaced6565e782c23cfcdb437dc901b2d577850198cbe99115ea4637120e6cd24befcd04ec24c66b56900db596d50a7aab9691f37116fe0e136dd176a69acad7fc2eac97ec75cdf995dcf067b986e01cfa4e8ae4eed16cebb829615969439d72143962b56328920f661ff8a608a46ba1360265bbfa3eb0fb83d1eea814046415cfd5bb58c0f21154593af4a7833d5a3755cde05baa43f2513137481e05ddd2fa7c12843a51675a7ed7dd2cb3c05771fc3cdeb46c13462d1ea4b89d4df33c9f4280368dc996cae2ae162ac40aa2ab7339496b6254443dfe90233d59e34d8e7aae06f9aaf8b58948f31bacf93fbb5727867b57325f7a205e3cf95e3a52f6bea07b3c4099dbc8f8237e7b674944cc4c23c45f593530234a8726fdbae540cbb868f437c5c44876d118c360cb7330ea2c94653a5ae87a9c488385ea03febe612b5959b75ecc0e29864bb40e839948149ed9e0ef00fb4f562cc7adf1c3501f06c164c318831e5362e2edec1be43dd8b6d15b066cd751e3943d7039a3fdb61babbbabfe76eec62dc9d50cea507040a3c6ffad2357bf3ab661a779390d8f562230edbaf09a65e45ede1e1a363093290d3d80bef3fcb0ffc473002fe25b8c7d468fd40bd9f9742a6d408858cfd5f5ea77e344d0613b825e2ff846590f7cf0ac57b7b442d2d8b5e4baeb10176f8442a24e6cbd29422edfa7caeb8f095226762626d1f9b846f01412f28f517fa651e2ef2908ac4716b0a7c9d21b798031086664819927b885da0daef718733942f1fc7ea8d754f0793745d5faf6d3b988362ba6c5f28378e321f810481490f3ab67e3482b6e8f5de1316ec8e1d7e514f630b9669709a43a995c26d135ba432903c3724caf4ca6b22ef7a67b740d9d5d1657ad9139fe66f1125375703f02fcc73da48b527bca7a79d1aa70db6ed5580740d35301c3dc80c84d2629f96fcd028cc47f796fa46bc1917a84c8c88c92b20b538b2fcbb9bca70155daa4b470749a0db40466d7ce49fd397ff1df0d0f42fa8ba2165c614409419d68d4ec8e964536c616d88b9133d207bfec94fa2c0bab92e22775d5f482da2f136deceb7f47690f1483840d685368bc7af3bd5bbea4f9643f5d36ff1da2564124c3a763c40fc823f3ab78ffe0dc77c07d3248a9f11d730111203dd8b5cab164f9d82dae9ab1111c65ee41f107d1d1bad13ad18d7df255cb8acef523f8f6e10de438d45c26c99aafd86201afa883875c2d347356d91227365a3ec1c2070a93b1503235f6a71a06add080f1d9282a4acad8974c95562f03a22bd95d1c8dfadb2a020f5c030a882d9909f129e8d7b55480a79a1a2448b5e7b7472d86475f479e92c5b83b064c6653fc1b0b615df1caf2f8e13238524a743bdf70463d92235cc48aa901693a2a551687fba214586b98a484db84a7bbd76fccc1f5c39206c40f9ff4e21c9bc0cd5cf13145fd434e1f8cae31eb611311dcc6cfe2fe98fb926d6c692a05346c78d7c4a675abccdd57d07c8dd2077767256f408f183e9aa50c3f4b4d02f3d4835a37bf7a9f9b3dcdac0279a626b5bbf31505328197532e41a3446a5873bcdbc0015f479d772b39d81315ced37e5e3f839fc3d6c4572bf12bc8da01d4eee4d38b0f990c5a96ce4f153060326dfae2bd89140ff03462feff6c961e6cd728454c44d942b326408fb60c6f3f573b50fa3f787638585ca972f6ec979e0c791bbb98da7f9b9d5d682d402fdb328914e50be0be682cb7805adb1bc4ca891a8127365cb0b33c01b83f86041692950a949bcbb9e8ad304f15b8384ca5f5d1bbddb11dac6edd6cee74c72849be8672f563f98abfc204fd8e7e1738db22bb2cc6811192b94f54d9f539d4e4d4e4e6a3b0f82c2d816948654f573224ca8a36212b2a2ff60c680b98173b21064cb0d6431ad7ac8a0aeade331689aea51d1abb48a2d5e3d8313664100a3c818c6bfda1be47fdd87043eea17ad43bbe086db3cda0c0b05601bbe7ebd27b37047a6ddc2cbb0c7ec979c057ffa19db6b2466036459f95f855b995ae051d5bd124448ac007042dac1d621a8f8a49db6e5a008d71cc786b51c022703e151ab46faf5b43137745ee8bedf95eaeb17ef6e60ec0d8ac76aa98efd0e3f616a535725a093a773eb57bdc8ae1fac5c3baaecaa72e8ca0450b330305575531b2f01525399841654ba48cd4a92e2005676adc8117065b51f5e0e900c82f1cb17efa6162d126db83a8490b93c0fed92b5d152233d9b76039027dd4717a19c80259b1f4bcfddd830ee123505efb4d24c098a44a0180922c9048b97cf558b59564f05d58a526f0f752aea3d98308f2718c7140ae3b4f6501851e55656b118c7d600c241df9eed138613ec9b3e13ae934e10868fc364f520136e550eacde67615590f63510e787337b00ab5fc9f439e15597ac95322c11bf7caae108425569a22406a5f0227b30d1d9e899c85d871d74f494bc9fdd6954382144e2f955be99261eb24ff8df25fc99ffc92c02c3a1863d03617c710705cb65a2e22d43c76047f4b66ad592c7cac678cd89fe83674119607b182e6f3454cbdba2020457f176e1563e60352219b00f30cea325851fdc02a860561c9f15a80b45a4c9010702b90f07a441c6794a202e1797b8a185c8f8bb93b209134fce760d4eea9735a902f0fc479a483c8d2b25cdad1c926d5d485584d806eb1ed4ade760fb5f482ccc9608adce46851d8f10bf95cbaef5e8798a83e0b2f8a7e3c962e4bc2990ef1906ed6a20b519688d82737c35776b4f12d7918e160626328b6ad666b626a857ebf6dea49e8b2b2cf88f4df3b80d4e7a918a3fa0f83b9bbd84161c6da90ece7a8f44467ec122f6b8311703a71ca15067787faae2c4b16653ea6dba4bfa6205bcd90e1f1d682971da5dfaf0971f7cbcbc7e2e02a81a7c422c00c36762b94708dc2f1ef644f4ab00227217461c7b051ceb605c4724a7bded35f439d4664c38c363ad410ea7817ca91524dab6881bd2c1a392819380285d02d08eafa4c9f36e5210d91ac1259ae1fbdf8dde4bd36f6ba349be53c9c2d5486f6870142427288308e6c5316180de6cb0f6cdb9dcba1ea01b073699ebfc28879193403f36e45424e9deaa87ae42deeed63f5441759d0f147e8af80083b0da8690bd243b520481b7a0dde62dd160ff0117506237f5d3f3c4d4b0e0e91def75c12426e00256c2e1f7b13940d053eaf7be5adf2060aeb8a14ae93a29d55dc8e19a2d04473af784d8e0a6b45d1c28341a0d437fdc3c26345cb21ec25c58444ffc23c68ccc037bac2a5260859e12730dbad265ee60bdb9a365f9a3fc9122de04cb17cc0a495a6708dc7af1f7fd7e8b844e8f4937f06b96fb87e8861391ec958df1832dc78e685106713664385a95078682cacf7e5982257a02b628bb537609aedd7e3221e7885ec25e4b8931553c1357e0556819fc598f1d6daab4151e0c9a7b6824d8fc3c92d9e443f344bbaa5f16fbac2fd5490d3e6a385e7fd81353291337fa3fa762b3692c8f07ac2c88f172ef762459d52e0bf94fea9ea94bcda0411b82c0ecba3fd6795459fdc5f44ab9db164d23c070ad9634b08e4a8b64c046d897e3000e5a3bce1fb3c17aebefcd4e97372607a8db85b72cc10b91068d3ad64e026a7aea60f0d0dda0fdffe59a29fd3a43477d17c402c15a21d2f2cf4061d51cc4622d6dc47af144767182a198028fcc908252d351818d1518128d2c7e79598cf29160a6f46f40c4b00614395daae4cc6086567058e242299f876c80d310be1369387418c69e7064505d62c4917f99ac2e22433f7247d278516fd07e8b640ca5e1cd5539fa3886862f882918226dafd737b04bb7dab47435ac0c181f370e635ba41345666a983508468215a6e5b4a3ad4437464dce45e687f024cfe6a2cc6bfb690e918ca634d453d22ef71ce6e398e3eb342aab22c291e76af40f5889805d11ca671abdfeffe7d2905e4b67dc87c124a2ecc04e1020dd540588df171e26b4088b80cdbd4a9e06de65c81a107fa784eaf798b8b0a2f5679225a380023f57ec970f03971a5cf6c5855adeaee2b982e15597adeb5e1f945750451ee641760b65da32df9d654f6c4a6cbd9a39353fa3cab1c2308f6faace0c4c31caef49b6e5c546440700cfa87daafe594e94f7cb71a88341d4ea1cf2306db3d61ec8bc030c4c9e72f37ecef8c6fb2f3906513a22163ffaa6ae1f0eca941c913479bfb53ae6d183f9f345505bbc3ad2ca6e8b4ee81eb4e61cb088f7500529398c442cf82b1364331f8174be75c7361c323ce32659ea3dcd0b1618a50e80a96cb3772999edeb76e37232c76c24ce1119811886a8954e5369e06af25d31559a059f6ae58a83e5ae54b2f5d70a809e7ccbd0a7c0c2bc2bde81c75759fb7b44983e94bf4ab309e778ac64a1aead4aa420456dcaa9ff607fd6e18d4203d0bcbc73ef7c61490bf520317926e5e07a0781ec35f21ee56070c13f8d8fdc6cef560d2a798de742cb9bec26d19c316e9c6d6e95643f001d11ee8cfa33be44701782a9ce2cdfe3b20843a2adb5ca417c1a0b4ef70fc0d34a2cb56ba72b3cb86f8d4a7ca96b3d101b51b12c174c6e67b18572f3865eba2f38c4b086b19301048b314012cbf369abf90e01f85aec500d96c1548e66678377dac60b99b0718d336a72ba1c2c4fc22b70c249e6e65929db418d379d308cdcbe64c294c96ec9f7af362ef617223fd22daf12edec627a0fe57e368513bfd916fe635eea8826a8e00aa710a7d8505a01795049a5f5be9a5157c6858cbb5df6fc346400dbaebea27a9d0469fe9e2f85bdcb814a2cfb52b2d7feddbeeb77f790cd46e8f5984cc8c4f2cb70c2e422c8e62d1639e9ab52ea6ce848c8273577e43b97b0a3a306b02655183ca4734f94438ec4df78eb4457d5072241ca9d14399a4f17bff29a615ffc080f12a5a5ef511fdfaba25c7335111b8b07c02ee71353959c3836b977f91cce6bbde463d870b59256bea60542cf15463fd3776cbeb0fe16a448ff8b8990e859524250d198f5d165aa0fbb71e20acf53d4fbd657d6d91a6173aae50bc9d764ef063e8bce12e5d9bb7edcede5b2051a4158360eb2e70dfc8071aa7f77e10a61efee64898d7302e35e0d9d46433ebeec178204e6bfa8cb46bcaa1d8fb05d91885bd0e85f996cf4fc66044d272726d276060de6216f318ae4ea197974e265667e7b30bb43aed55004d5400b6830e713f5e18dc05b9b3fa92b5b53de58504acf13d68be3967809fdebce6102ed86554456a2a04cfb2d477e48ad2ba86efeec44d2e7e956e1dfdffdaf7cad7824e2a2e5602fd673b95411e705506a97cfb1bb8ed6496fb4c28df29ee434e0220329941f6400c2f9fc2ea2c3f137cfbf4b262e4efdf54a8c5e7abe8977371846c48880878fc21742add6f62145403292a5aef7a59d1ad33e4f643f2e09a7aa1f2a1d903a9acac6b0c8b3cf5a02bae23b261140c1810d2c2b6553a5e7f3c38ea8c04eb03d3053ce0d13961874c4cf2b12f0c72232b683cb6bc96b770d85984cb3a461d1897fb2c3ff1035a6630073c6eabe4db75ddaf3aadf82c93acf79f90cc9c8cf33c2b6fce162cfa96d61eef0f365263810912281a6d80b530009d4262ecbd7220cab1a34ceb88547f8b6b6db9c6b6d7d6cb14d5f6d06babfe797fa13274e6713075aa761fdf1e14008d9465c358560a9ccdfccb0e235841e92418407695e5e696a294a3257535360439e375516511becf623048853e3f3d1995f9fe8c3ac05cf2c1dcfc356aacc4ed739b31ba3780a0d78f8ae250e0a9f9dcb00b9ccf2a50bd4afce71ab190be1e3b29848affb36e6312979977dda37d48b00e2495e4bae6d006f5dcac99d46d32d4b21d3ba1152a981e79ebd220c09bd7e8b6d1aec71b77feb3ce5d1a4ea03bce9900cbde6a96b7f7750cb3545d4e1a6f976100eac35b6ae37c719a3e290375bbf258485a4806697183673dcf5219d15453f92a0af297c7dd9e3bcfc47240305c83874d4ad5c09d0eaa434b737ae15bba0d5b2c091dc621cbf9a092f8a897b9b4d6aeaf94a071e8f7c4c6c5336555f6fa1e601dbbf2eaa65346af4e8d82788b2ba26ec086c9a801a9b69d8cb22b3c8173d76bf057ee782df9f26b327cdf9006ba1c477afc280ddffefad2e740e076bbcb28927059d0841ca7ba60ed4ccbeaefa32022d19d9276a6ab3dad87264bf0aee9608237219c0ab18a9584582d08b487b1547f4302880ef5b4ed1086cb995d974e52343639451235114c4505b6d6214dbabb88e1a750b751f8e2eeff87b7734052256e38ce404ea2b111b98430951a9dff00135e528e4876b27cba69ce3acd039efab519a2e5fbf086807411347cb1328289523047cfa8cc796859a047c3de35bac9490851a02e9e9b43d54ee033933e5f906d6c47675c87edf89265795416decbf4aa33efcd5e900f60cd562c25068d49c909a0c4ea7f7d294804fee1ce0823a7e83a696313056576a3a88ce47a8d05ba03c34e47e42f01a114ee7e785bf6fdc7bcbc4b5c67942a913994a1d2c3d21013e31409e710c33d04781c28d5fc8b6da747eba210b058122c989df44dee728c3e8a895bb6baccac8b1404dee3ddd8078529d7aeafdef47432605f4733c33edf9a7cf35087c4179210f5fa441cd0ae77b433fac0e92101ab5514b9e68de8d8ec713d1ef70b67b218882b8252bdf31fe4fffa0070f833a8e13b696af87ffbf0b30908111df392b0bce8af7f30c05aeca585b56ec47c9e147fe0da6133f173bead1ddf2ff75f04ad394db36c30c0e6637399704883abbe57cbfbd1d650abd60b6be414672a433157833e31f096b43d2ba95302eac8a829083c631e441d5154678fea7bdfc06c6d637f55c251a01894fea09ad883e46ffd2dcac117553fa2d5373e222072f4217814610c71dc8549467d69183be5fac9fa53fe0bd72d882f76bb15a9ef1b47e8df9e41093586840438e2ff403992bef8abd502149c4cc389aa9d3f9b2b11ce73034a170e716786b06eb7a5b9e39a7cab9427589dd3e91aba1a62a19c91cd72206b0157d6694e48db9bc213d5ce8f49257d1c20ee98c78886941817efa2c1ac2ef3195cb1e50f005291b28ff109d3fc5faee1442056120e3a5a9bc216da2e6fca3d51e5211919323be9d02f3a4016a3580d671fdf14aebb4f1f5db62be54cd81a30e2fce232111deb20afbc07784b6cecf7f736c601070c2d594c4b88dbc49e878566734754e571fc04a0722b9b0236f1192845ebe5161ca570815b16bd0f05fd71fbad07c9787e312db814c7ab07640d747f12d93b15b80feb44539d7a62a0e382e13ac256028fba06f2ebca2de97cb2238f276f869657c797d36b3cb7d480fd1257bc7a6bb3a5bad1ee55d73f11700c7d81c156743a0f17b66e5346fdfde4f9b72b89503ea03405f6e6e3ea2223eebdebfa0422bb13567e36fe8018959b6e9ddf3b782b9071991db28a4fde896b50376d4a7dfc667d2a809a0b65421a3ce6b19134470a5970e0e12085c2e1f97123f419d0e76aa25e29cd7abc7bb6063f1492442e1e4f6d2912609f850fddbaa88b9d633fea8f2027b15d7851020b4cafe13b5c698c7566717fd65d8dd847156f367a28419a0fa76c75224eb15f2ad353a6661c67f7c7b6f7bc81f9e8f1d02dfd0e8b75b30d9f7c00e956adf7ef35fbdb59a97438a5f483ffa00de4f81f69cc9b47fb709e268d799999f1b3b7671d7677758f0d981362980b10e14ed8a0a55576975895b5900212949273b76396ec002032035191dc507f77e7b270aa335a8d3a6e881ab21470f1dc5ca9f601306c6216bcfb0cbc776e00f2383d341609d67aca4363dbf0c2404a114c33d518bca2f677af8814c8da71868624a679cd6d619e0922f8b19223d078ac388f6a7100ba5f89188eb0764aeff1db383f8b831c3401183952d79d83406480113fda03aa7ec86614edd57f19b3f6bac0388b90ea6cb61ca5d0abaa4b1766b039a01c449204aff5e08f965cc1ec5097b040bbf7b055e3c552a77060cd1f2a1178de773297dd2bdd06671a9478237786ea93ec455bea6f698b949a7092948cea8dcef30f5cb1fee84d8b60a43e8487341477a1822d084106f209ccabc10f4653fbbcfa7d355d170fd03734ae7eea7a5e4dfba794fbebc5b9e50f2171fb762738f37019dd04af13935ad7dfe302e7d7e9fe6f740314ded9532033f83ecb89a53a651b3a3136356b2826446aa5d806503f8b95541c4120b6f60c97425da3bb98a5fc18a5121f557f85f3c7eda55da4c35771b57a5ceea4fe2e633af4ad09a3866bc97871481fdbc5621095b5905804258fe9b0ae2d0d84578f0e316b5c842055fea6de8f4bf83685025d07e8207eb185d3fc8d1b727ff196d2bdc67be7c6dbfe529d330e2b99994933e111d92b11923dd0ed2338cdef1ca2950a9de501bc3dc19d8d95adf74122412067f1f1b686e7f53f7e5a01aed63d452ca02f084c1d4c7534dc613e6fcd911d2b67ed2110214eb473a6b3e9f3eb3c5ab8cb8a1c8dacbbb53d69ebcaefc5d7366bdf45ed7ee5a951cf9993086433f07eda57dee41ab47842b41ce7bad8de5dcc1dcc34721a022a8f81012b4771853c07005a1dcb24e8f35ea1473702043437d6928ab065bff995bede3117ef4885d0497fe8fcae06d9bd004c4ce4218bb8143df2d51d6e96f0041d4c6addc099463f6b743e051b65131a04299c0db65348881b09c8e0161787efca01d718ae228f57d0a202418b1fb771f4470f2f1ed882e4436bc26b2c41c53216e450b84cf68e9f0a5aa0e6eed2a0c45b4036d45b4ffbca7c0fc5eea89255d1efe0ae2b9da62862980e4596b6029ead3f65d7b74cd9af0039d745b68bad0f8aad578f797756c8f66519c244af411002c4c5f1425bfb9be82756cc530b038a04ab123666edfb1bf3640f2ae7d69a764cf02907bf1a71690909f0369c2e1e404ff6e2f7d764aebdf45f9586f311108a998f769237abe98caa29524e5d08cd6ceaea477fa0cf4ba0bbddf076e9d69e2ae96431b967621597cce93e3d6dff50ae6086371a3ad19992922c23322e55a81dd9a6251b65695ec4037e680ee94ea8c67924319c71e50a63a77795314412f287b0af134bfe3a6704feda5203af4f5b6f8301a2ef68c68dd14c67ba6f681e5a0cd4566956473930c28ed2ab5e1e7584be536ca8e1574e7ecc724f5e4bed3312bd5aa550bd2da4dc5c09d157abbe78742cf3f8b1b20dacc975f86f4bb16123356bdef68ff4f8ea46023854fcfeadd6960709b8413a659aea3b4d819329fc654750e576006974867fee0bdbf3843282a0873e4dfa4f42effd0983d70e7d61f7dacc4e5b1979892c982e12dc8ddb12c875c1c172eb92b15c3a242e674381f075d708740de0ac17f7d20e95063d4201e699179c2c59ed9b93a11f94739e11aad346d97ccabf497f652f27c5e93432a55a6f3165518e8073726df6e6739e7f0377881d07b2629ea9506509d49b9d4fd273e09a25061a03fc6e65f4b0284d27e222017776089cd00bc45d366f2f12d9c252d6dbfd57f4609775ed5491112da184e030e722a10a722deebf434cad2931238545aa4059de6d7e77621e08ea7e4b6f81b641fe211d32ecf7e08fa2feb9325f7c0bc357273f9a9ec7e85d6d58cab5d3468a13b688af57ef143a611d8dd011df0e93c407096213952660e0a3a553f054bc11413fb653981c55e50fdd35a13743c7eb84589781983b5daa497895b5957a709e496bd8b79df6480afb484963982506449ceadc8cfa9e027b986a4af94f51cf1df886db23c338a4a8b226550ae86a71fed3faf034b2bb514765077c4455c6784c3de9970d68ff982c90aaedcb000cd09663e6ad15a303bec23b7b9e9c2bf58d7afa937c42e271389b2e04ae58c45763838637a66909633ad28def395556582a92cb70b280e949573e38859d3ddfed8edefadc4b072228e14154a6d39ac382e31cd088d1fae9268902304edebe677fa334524ffcf71df4f871c8993af881b5d7f9b912748d3c56bcdb0b93657efcb9a46772e5197a22174b5daa8298ed7a488afab54ec49d15dd85b8e761218a200cc45de459de0ba95b5ea3252e08666c730389eb42a9315987b94337d679efc89d36f7d715fcf80fb0de343f26a66ce442aa30a166a2eb9b1dce116e3b11d18196d4493e160424465269f2f3b473d267289c09dc1f6dc7d003ea3df121b9c7b83fd256f8ef04af51d54485fd59e2239ca57d56171c4bad56fda76d1c29204896cd6fd966bb7281d41b30d2d371e310e8bc4de124d1ea25a99434817c17eb91eb47feeab0df0d02c3a9bf1f45f996dfa9fc14ddebb9aeaad4cbb6886d2f3183c520349b336478f200c4fbfd7bc1c5772d3baedae4483d7bfa6ec2479a0b4757c8ea3e40e023b980afced1ad28cc4930d36a14b96f6f66b405720ced89aa0c0dc9059098a3142f7285b217616eb99257ea41edade38a41e256c99cbfebd55350818c9ce017cdbb3aad219e4fd517d546e030853455daa224dbac70ac33e3c978b841280d5def339db26888e753e058238a23e301de07b8977b53d35520d8a9c2d1695ce1617db9a6e1a0c73f6efef191cdfb53782a7051d02b1e017e03a2ba382402abf67d155301e3fc2e980772c2e3e327541c04b1daaa9ff32480c49101ab593f8bff98b9c029da8d906cc896e785f9dfa080a7b91d8b840d3ec91723b31997526ab19456ac715c749483a3f70b54e07ee672c69c9f4b9b0409329d634cf2a25a54c49b0bf7c34b3c9079893e552a7b9c66a848b08f27813aabd87a31200b2ece1d4bd004e276c3cf35f38f1f4308ee50b507877a171977c3176af0011dc99a2164855fd957d6c5fe95e37a3b24f0a4f837eccb64e894dc53a774175c3da5bd0a74094140e2a059e6fbb7dbfa713d48151c107132f813c0b34e78b63c9bc5e4109cc2a461aa1cc97a7504563a559cf67a2c1b89920a391c3db73150b9efd7f4ceb87769d56d9385115c0143a0954ff159df885be4e39292714c936c6a2bc450fb8696b9b6e366b7972dbd538fea2f55223d22eb81ab48081b3cddc59c880e13a82b52a83fa170f8b4e55ad6bd46aa6f809f412e7d7c74b841814cd1e8a1f6e474e79b806f49cee170af02ec12cd9455e1b819e842344d91280217bddff0fa4aef58d36c9fcfa8499c04fc6e4c06180e593cf622b0cfe0f7c3a7d35fea818746ae5f4d376d0aceef9e1b80fa7c2cf2ac61812c123978b9988be7e916db99dd8251b49ec868e1b813ce0de444d8f262209caf3c3a98045c7794d3153d9717d5af335bdb61b0f92925c784f39448fcfeb9aa964e8fb7b3e9436f2874d02e54694e8aab14d7b184f571702fa44c0a2c41002d9ca62e75d7e58de6397e0ad002bd426b0e985f16cdf38b420857781d19a5fbc6436bad13f79682440064619bf8907f7c713d404ed4a47788f260c30026a8471d94c9c33f8c27a2cf2e096b0bbe546c578d3c2a6ed97f82aa65d6df4c28a5d1a6e1afb857092143a4705654e8b7129a07f02280ba23ec0a84e28fc343c9d97930e6b812199ac66e6a48569b1a060e1c1acaa4e6fe6c5c03da314a08f7939e59d2f0bc9e17f310b4f85685be17b11a5de63517e77fc591a550964cce27c8ad2e4251310ab419c9b024c09243090c4637f50f16d6c487915d131f23ae505838cd951eb6f56a0ae8a54d4a78ec9d16ffe68484a30341c23bd8e0ff28964eedf6f5bedfbef43b4c25cb543951b29a71bbe0dd128cef6a2fa6034814ab1ea862f1e8757a4369a698508f0ca1ee92b5c7c19d0611da015ce3dcde3fd053ca10b98f544d3263be4d3bb404c9361aefb3578d4ae0c3f7101f18bdfbbd5772d35c5361294816ab3330c909cbfb0819aeb77f5f40364a8e5c93f5707d235485432dc5fad4b4d979b70446c8124d7e864806d1216099811aabe4f47663fd88345193bf5d0c623a2195e93564ed904f8070f70e859ed819acd9f6e27065f6ed3f569ea1804840e6dec78955b3536e21b054af87c882dee835f6fa238369bbf5862ff87e6ab8cecf4a6bbd8b7cc147871d31e1a0a0ede9c957c532b4491f8f8879355170498a8e220310cd40d4b395e23cfb0452654069e86aa63e0ad4fe78fa0a95d2dd1b4c97e3f2f25a66b4e915e941e52251a08ec488fa432c4e59216fb15425c1612e65f9e0b4926276f95d2192aa045f34f542fdd907caae9c7cc205452bbb49b6c88bb6c0c5eb89960550abc1a782e92d6b37ff802c4cb2eb85c263b6bf9d9821f22d16308c1577ef8ab8ed5f5bda7a49e9a0fae5277599bb988d62a85ab18a8ed53cbe51b633af4461ec36d68a4443fce3238c9d6cf749c9c94713506a050466cfd53363152ad141bb5e68947c6a449299ec4bcad90de6604429bc0d37a301d94c55f1cb00266997601b27f4c8a1295378f93c25bda8be1fc1c25666b79fb8668723440da79fca13853952a0ecc07513f8cc505dcae5fbe7842a178b20bd0885623fb88e18f528bdef54c6d21ed095e4647f3d1f7ac033fc1954b98e97a7bd2aeff70db3cfa2df259d9e2b6a91d4e311fc9145dac75b34fc567fa1774a1a0a028b92f44c75056229b31fd44ff1319fcff6a240bdb31e701cc622b38d2e512d7696952d634d88c511350fef4c536673d610740f04eeb00720eb60e8f79c608442d3e4ad17441fa7ae4a04e10c7d004e632358ddc3f86f21e7467cce30918f9f96e6b39c711d0a14ff559b6c588e0fb00642c6f2562044e7659e03bf8cc869af884c87e48846e891f25518b6b89b09847778fef053498034209cd43e050525f3046f56c431c0729c29ea7e00ad15a000fbb2b15bfb85a6c712b2f9fb9c16956f4b620271467dfb38b401a5e8aac6585a51c1d7cac1a0aa03113b12f6e8acf02313e6a898018c1c065320381ff53dd390ce88a1eda5a43e278b8d558c0ce9910e1b6c06ca2181428e1b53d87969b764f7cbb1994b2888356da6690c7bad780960bf36c938c5d7f64db5070c95cb8b515e1a2f3f33f7210482c878d8e3a59e8c9e206ee7342ae829a64a6790155979b89ef66543997c8846bfc0cf327819c6a6a93a9e84361d099c4533e436de4f76f401d620b984175ccaa11debc632183dd6ae40f648fe8f0862b53ba992483fee90d6e9cdcde8c769c972ed22c89d3d8f989c67cab239f9233bb66f70c60cf841c2802fbdb2b18f85f23d94e5981c8ad8daff1b363d8da5c81b76e93a6f3d38f5cacfea262102e98d97993084d1a1f67bf03d34b61daf6378dc4441029d1c5188f5102a6501b1d1f7168524d8d9df80fe833283347646573c10a30d1bbf618ada2d974ae397d0021cfb78537d9f3dc47514da86e533635a97867b4369c9ea5871f57e70d17e9f34f22b8c4f04810f5087cb74a8b4b74eae8c600b8de57af2259fef4d775ec89a62033f61d936168bed718eb8dc8c9238dd9cb6ae2676044ea9a7f51f3287be22955f5acd9c4575db59f456eca17b70fa760a2ad5d105e6a6ae3d3f3255b91871d142c3d8c58c158999b3ec8faf676d7f5205a1994cda09e988477a567d29f2937560facd4b7888b2d54789e898fe9205f07251bcb6788e91c1f8b058a406bc85cf89c82dfc320c2d1718053a61e82eb79d8caca67046f0b201bd744ddd1b240bde4ba1f6e0b77628996bde4434399098f989ede81ccb140892275aa0ae89fc1a6e412863aa63af7015cedaaff0ecdd0ce3cc2f05f11d0a02ae2f1623d4e40b90e9dbf13d111d6ced1ef9f689efe9359c8f79e98aa788987385371efef61bc012a0ad5ef980d9f5a172fe530eb5d364665aad56a1b6d950f9785394ee7ee0d44aa00a709203944e5df8e06b388cf3d9e67902f9a0d6ab8dce9950baf6de3e8bd99ace1d3ca39642fc32394c9c37bcf1e711685755a5287aeef9aad4994ab5ed466a6d59bc4b3e460659257e9ac6bcca4426e21403484efaae3c8fddd810c9dc8c460e825bfc2f46cd44d8ee17001b490a12a14914b23711da9f6a5fbe30b03c9b464894c3d4819acbbd507f13506a7e097bae60d0a2fd5ad65f1c2daea8436983f6dbc42d23487859b4291699a1f4f38a03e9de6566a97554cc493c8964a76567e35487a1bc8ca6c9dfc5c8c40be3e1af078472687daad471e5b918583b56545af9fc3d038469446e8e8e4c4cb4e0886356c6bfc1c2ce122aaedd62cfe93744287718a9b9cef6e2fa38f458c25c8ad63304cb13996a8b800ac066e7c72abbb77285b483143cb01e1527ec5a5ef631a55e786df46f1a668aaa0a121e33edf973e9abf4bf6cede72d5c2532575fa82868fd0e60fc924f1d30151e4e4a8569204f85360b4bf69b2da2d69796c8db3cf4b1358c3ab9df8f842fb9b0ddd48fc0e0ad12f40a555626c475ccfb2c5839269329207e9797529f214a4d063d734db63fcd7ccdc6dd03b59bc93a8fc6706351e67b69bfe03bfc6ff0ba1a1e5cb0840097331e155755f384a75464a5a2b5298f0e487cddfa6d612186e2a6060181d9d3e0218e8fa20d931a718b3107b053a72fb7920a1dc6c0ea7257426766b1c9b76ca8498bc0c410e2260f33cd403c4ec7574aeb0bb8bb75855097add9bc099a1c161a4b27c05d6a","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"4290edf5ab9c348d0d7d0b9e329b1e38"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
