<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Private preview</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Private preview</p>
                        <p>Enter the preview password.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a0b3ecfb52346e57027eea8b4a10ede0c6f1338ad9811d9b34153d9de04332de34a537ee16c47fcd7006179b27ab386e5f395ce60fe4b9ae22da6e0c1eec829e7cae275fb8cefef7b68adc20cabc06e902a12dc6c3bbf90952f0c52c6d350cc8c3c7da66fa9b6e5338ca65411f7df47b2ac9d1389e2656e26400d852ada1c6a625f81f8fe03f96bb51a2cef157a2809c874687535b75c00ed2fbbbac812d3f5f0f80206dfbdf74b2d17462a8e3356ef58997d94a01cd566c16f5f256471308b8c96f90c14299becea9df6c1b4fa0b4c22c552a9d06b8682c35156d20bebb916b43596e4598ab0a1daea77395ffcf59584ca0f7e3138e995de4e05b4550ae13abb584ad46566643b49197d27901a114bd7e535d0aea45dece13fde7f747b75fe3b52411ab53139f7e47f4fde29f536854aecbf659dfbd653981cf444b8d2daf7c9173dbfcd300a4ff31fd9709b847bda7fd5192e4bd0b9e70d63988d78f5fb479aeaacf0e98f62c87986a578c3284bb0ccd09cfe2afd67737765208281d919d7b41e4b1ef8be72a3049b339d5d76fa7ce4c56006870ca4d489ba3cf412acbc9485f06e69bb50d4e3456c9422aec0d79adb08c8e67e6909cce2495c93090ef573eaf0f950154b5218690369102b35b09fd542f75842e8c70a7fb0d0775a938c57b5e1b0a51f05d6533e88a2a12e7415aef36877eae68ef090ce65ce09b448cb74d89619bfac6fb3159af851c6b2d15c989beb5586ca29fec874700ff8c1c5c3674208f8dcc90e2c2238cbb158e8bf0f6f7f1270d0ed804aa355ccc8b6aec973dc5aff24984dec4f63421e5c125f2fbc76429b775319260d21c37f33b6a866dd18adc28696607ec8482bd7406266cb3640204e23416bdba5efe7126761d4b1dd1ccf80a7c08e6335aaf30f34b0065c7d08586ffaaf2d0fa431fb990f15d1fe66ebb9a02afbf58152b3e1a140acf8081a13ab5682b24d8b0acd02e4e5a5eef7a23a9b59e1c2ea27c1d181e93d441b2207e9c3d5fb4ab80a2ffd90973c0e5e244858f8cc130f3451a01b8e78b9cba6eab2136b52742de4a2f5e53b483f526fded598936ff2342e53424080a149c5aaae31854ea3e3fc64951136d590afc1b78592b87c4c0cce5bc6404957e345d30674ef8465250d5c3581d30d53d6c71da343385fa9bae511448767d11b8ccc59c30b83a3e1a6f2722edef02d4006898719107d4eb510a8d4f17e7a31e682299bfc2283ff91be69e530d24a6d3f88f98e86976f3ac92a1d5d2bd4801b5d7592086cc9ce8ebe5b0a49361e761bc0574ee77700a2417c3a3c395e82cf26a07eb70290808e745ac93e7385c22d54883b2034d3899eb2514d28313eb558c5d72c32800f3c36c6aa8126b387d5d534516d706bb6d18073853ced031ea6e604968eb7d018a8718b5ad4ce8817e5d08093e16eda914acf3d7c77d437b55089c208dbac5714fc85a3f3a6108e3ce9fbb20537b337981748141f3245f4a3e425ec8efc9ef99306cbb0e743ab62c1b30b89ef75725b23230acc0b9edc38c77cb7ec9a696d1e8a1cbad34d011b6956b7ed3f6b2607bc2447ed2af1c59fbe01828a273e77d583ba13700d77db4d0e226ee959dc3850bdd33f907f0598306a6886220b9daf8ce28fa994c814d7843d8d5d5d3124e1ef781b1aa7f8259e11456a9500e34ff2988803a361b8fcd5a06df2b65bed76b9f886384e5a260cb6a4cb74292fbaa58b43436cd4b013747ce2ea4b96e87ab2565b13a6a2616b679accdf413acb41f0b2667d00d56ee77e0ccfcd932f37c0fa72d1c05ffa8e6e9cf1b6aa14b4cd51bbe5a5ca20dff78b8d199dff4055722e0c3159df7253bbaab54aa542c204590b825844c0135a795148fe9339f11b5b1007200d564baeda1d0825eb85be847a2bee17dc29220b02b8adf31c5f6c96ed207eca43b03c1963aabc6f1ac5d84534d9bfc2ef06df9eb021c40bfbe4d6e21d8b01c1a117399cff202874a32c07eee82233a61effac245e0027dee3581e12da5f8931b7810f89907e327de30068dc6e242310edd6809796f54c711e5e0f3b5ae669e60915eb18b8d3d10bbfedc06cd6b81587282429b0e888a51b7372862eb57a50a1f8954f16f737a082f393ef59e20e281e52c88585cdc7e6b4854eab7ec28ad0ed07be39cc1c6244f27e4c7e8e3d31f301c84ca18043c0a2cec0de34aca33b7297d968c94d8d685d2faa7879af0b7f5541efb4c7176b31660c356cdd5c34b0cdd9fd904a2d729fb7ea01abd2eee4cd121419d224692f8704e0ecd15e4ad712f0b77babbc1547792296645c6358f4a22c10cc2bb44f5ca37760f6ef8043cde9b1d945ebcf14bd9ef14ff34ce1ea7a0e9090b1f4c9f9cecec26bebd17947bfdedaf80de839c49487a40775679c45b7c68ba99bcf059a4c02754e460597080fa7603fa157449acacfb0b33e73698388be2d6bf3c80ee31e04dd815da7d48c30049ea5f40e1d7158da7e156d19d598c2bd9d6f61fff259f78cc711b17e937244eb7fe1f580d342b2e8976a46284572278a221024aaf7f91613b1628cc156ab12526289b9b888a493c589e0f31a6dbdf3c79b45ce1a977b4dc6ede9da17b365f2333510da2c1f252cc585e639867a1d5dafb6ac04a8c51505445df3ae946bed28ad5d26fe29389ffe4701911fcfb2a22df574293460df265bffd95888f4be3fef72460b1fcd1083f850adb370d34b1a97e3e41c7793f01e18fcab310ae0e3addaa5aa70fefad6e5d06f5e62325c064e8ef2f5a36483224f1b9b550df5e5238a7ae6729c61c5c500fc9bfb405842b65291455bb03083444444183399e5a059db99f6dcbf619d3f75b8909bff07aac4ff07892764171e2664a8b621f325613d9f8d460de9a1f6a8f9fbf26eabd5b934bcff112d851e3be120c09ba879703fc4c10ef61f15545a3981deddc6c5d19a29b089a79b88e40af4fdab11b0d21be5f45cf02a409f497533a8a9bb7bec0476f0a3b259f33a43fd481eb1b604d4417de99321edb19a4e42e2d5486632c7a75c10bb418012f770948a3dfc19ca5ba6a464c690e201ef69a07c22013d0e9b35a2f889a07077078074bf369b4cb8b5727ceaf812d9f2f8c3c98efb173f47d14f35994d6d9db4854b8b17b82678de8e784c772c3bedf14bc35738baace02e77a05b308b340867775b598e542a38cad48d639ccfc95b2ce9ad7a0f0985682ed03e797577fed50a43fafde742148e0253b6914fb5952b3dfaff9f474fd4bcc798869df27890fe2f837266d246b868ede5f19c807ba5a2545bd2a11adbb4e61f88a205c64644893a4382c9963a5dd7416d2f6e65f84a7176539fe767bdecdef43c1222d2ffe4041d90c4c56426be59d259c16e4a41445827121c6f17960ed05301b4170184a67ec8ce50e72ef9f594e003c5e392114eea61656e9093269d249fd9bdc6a9f69e24bbdd9ab4485f1e463e196c75783cf7c5d1d5e400a8fc1c83d6c501665f2f0dc7e1d824dadb3bb15a3c1a5797262b12efa0c5f46fbe77d73cfab95265f36359e3735ac8d8d438cc308ff17e79fc82cb28012cd182597ee62b3d817b1800b6a96b1487cbde03cbc348b2584a8c0b6bccc56ee7c1b6b9a7ce53eea8ff64acb6d7e10817ae0fd91416757b61b8e5b8b9dedbb03edef3d1c504d4ebb03e2fa0083bfd82e351e1f3ab0223102c740354919b7fb4769b3486ddf69617d1d163c9a5dd8eca1c6d0941fe4577f1297c43ded4316b7a1e05d77d9b79abe64eb347ddfa30b5f09465c88e1980caafd208ea922b76026dea235ae7288fb4271dfa2b837e86f953a1e3f7dc3ce985d58f9d72c16de387bfea9682ac559731ae0ecc0e3f7229bc932c315604544d913ecc6d3948a8ea70db7212289d9be6ba75b7d6bc73ebad0823dede85e3c6e5e499b4a989f2d963848378374c47efba50602cc74fbd76e33581fdbfb25b80214852fbc3b00dc029aa204ccf70c3739e6e7555a81c2915931df5ed40055af979480e5e14cf1f3b20117c487de8ea565cefc94bc0909a93e7d05255825e959c0c83ad8729e3e8e188ed7a9b306d9364b8a2f86585053873689df9d98f77fb8fc3975b2d369b7f0abe44066faea2dc227bf1ecf6f271485ea20f3e163e11e009a69a7e26851e49e9e26ffb6b45698044cdf7749c96a958a15830f696009d066791401674c7a3d848d67b4ea6b5e9a1d367f91e45054ba171be3936fd8eb5454dbce509e6918d3707b5bfd55b21aef565b76065725557d9cc3170f8937610ec62753e07c5d734b63ae69ebfea04f1265bfc8b083bdc6ae5619a49e2927210411f9719cada8946816c4bcbbcf72319e44d0ca77f4eb11a3822b9c221196d50b9b61d62e69b8291451e68f6bbf8c08c02f5d131584f90ca86a6bf5313c0d5208cc0159d17708ff9905a186f079ffe6072d72685fc41f77a36e7b2386f52c918b3c43e7c8e245b0465cb4275a15b8008d9119e29f61725fac545f32675a3d2e055d690796cf9af6562381abb93e6c9957881a6a438488db99fc89dbf52ac8eb71e3de0134b9966713dd4b2578c50addb94c4cd8de85db49d59e398bd5b69a4dd8ec35c1f71baea45b76bcb526be6528968d9c3f89115a2a952550e547abc73032f01b807618cf902322335b4ffb8de28379fd2e102f77b23b581e1d3e6cab25c1e8d40e9d8455e40654022937a547071a5533b14f113b9742c0cf341fbf5b34c2e749c3c07984c9f71612e69f46ce870ef6de9a57578383a17012155e52ec45708eafefc3d2978b3734155804bf79e780a42c9b833bbe1d057ef483fbc86cc1e6d8f77084e35715311c5c9da912cdc82a48a69ed9ded2fa54cd422e0a0b677cf712e7eff5a928ff7ad4265f311da0b04c35d6c572dd575d68caeff0654f05865d70f47c4428642fbe6dbd1b3144388bb3079fa261bb1f6c07d9e124abd9aac08690114791a33fb8b55e4ca1bb076f4d7409b11d1b87ef26754a7e9135688448ec0a356134f82f5b3fe7609d2acaabd187691e9ad8470401ef5ef69295f4fed60b3414d37b17d8b37493dcf9fa4166578e4271b44acdcc03c204d8c442b87940a50aa16b08c8c6acd212f3793f23a9502aa0b046810ea172890762e865ea6762f6cb0376ef719408ec1e6df8ecf3e51b6341950c83b375a153a985ada786b8a91531d4ec7aa7c0a58768b1800a49508262189ce6bd93b53a276711f18d0c680c42eaeaaca90e5945292c8fddd3150d28412fda62a435c04f3b943a925734f699b3e1295634d78179d4018d3d608948146d64dcfa8e2fa99662b7d6dd2725d110e12c50a2445ed48c2d6de6a92ffe46324a0c752b34c8932f119d019435a266e144657bad61dcb9c4fdddc67631164282549fbc2a166995009f23f1dc73801c06c8562e51340d4958514d3875b7de1c516ee3e605636abb732614df3fcaccc1f48b73b8b931dd9f429f44f31fdb47029e992785befd745fb01c4252b8c1cf8bcd953361b0fece5d1bd2fd50f0091166aca5bda0d3cad71b8fc6993f815db9bfb7342c069f747b79a3d620575ab9476cf6af9aa651061cb5d4477ae02673b205cbe54090dafada1d7ec55d555a45fa43c11e0f0f30275ac939fa74fb6c33781fec582671b45eab6c2544c5acf134e9d136f416e9d5ea57af69e226493c236999f9e0e7d0a93eb7782a6b13e7c7d835525660317285b76b9f09b5192fd50c614049256778eacfd7281da922ad7ddb617ed9d5bc78fa6379966b44f3d24e13c35c4c1b7551afbeda9442cc16f1fdaa8049bad8213955ed1e0ca4a9765c1c824c8cc53a41587f5fc02bb0daeb47426a076dfd26e0ecb3fd8cabe54cae23c1804b54be70a56c5e3f2d403d4c20c342f274d3619ce3878c3433e406f6c0e32b43c273e87a10f2f345b559c95d68891a9f1c62d74f64955d9310f1f5f11d0e64d737e506585279ca338b81dc264b92b77249a4fcf1ef6e604ae41fe61f27681487ad1a8242d2765f1d8575b7d40176b4737b5cb913bc25357a05d0055892a06e6c5c49531823e3d76dc6be2464d967e50ab2e8ac015d89f544ba7986d7edec35da8a58c21d69452b5dca2a70ac0da0ecd979e61770c223b455f0cafe8ed10f69ab2b4f2ed41d0865dfb5ebfb7eeb040263f3c98dfa5c1975914a83c8298f718d59d1ea01fff6242d14a55a2938132fbe143a5ab0c29b8dcec83a42982baaa612be4760e8d2d1dbb26aba3c799f9e9762ce003bb65395a083fabe91cca691ab7bd4594f5633fd6716eaa197bea7f61e9615ab79cb92230e197a00438f7fb340f6486a5fed83abf5976047fc9bc60c4f720fee0cdb953a59b17719902e170eeffcb438184a27de2734a8e17f97c13e29adbfaf9491f2c9fd1c4d924c6914f976511dcd77c5866bccda21e5f80e47d8d156f3049c695a8246076c72366606f9f6d5dd815cda3fc80672b44572d1abff5ed678402abb3b7d8c9fe96d8e2812bcae96c8cacbd920e3f330218e0eb0a438d47f4a2171ed9b89e77ce8cc0f98f43d25c92d7c3706f40e8d438ca1c6e26bd4f7e39c44ad045bb8a9a21f5152a2a2cb40fccf12901b3627e628a50105ac3b22cdb9655003ba2a4f1e67f260b62500d88c24041c02bd7e77750a372f58db11b6fd11cacf4614791f0ee0301a95f6f221b4619d6870952c8107c59555ffb871acfbf221f21ea0e0ca70f90be9e9ccacbba4c90643c01441c58464d41bffccaaf0ef0c9de7157e8358d77326268743d42f551ccde707461277d49752eb9bdd19d67aaf28e403e644bf2df482fe7cb084b74e23e38ab693a4a932a48008e2ca9b30debaddb366b3600af8825c974b03103e94ff19119274f203f3cbeb9c13ee23787ceb12d4e52366e9e23baeeadc43b5cf4c79830f11bdbe5fa6e8ac4e300a56791f9196756b963bfd05e7af7febd787d75634f248a05bbf1529024cd58d1e909ac5526f3f72eaf2363c25b3a398461743b6588ea71830705d2005bc365c24422c389b8f4960fa3ab063f5b9e046e6d3a26a3f634c2f54c2c13a90f2109a82b54c23f98eaa83d92c7ca7f521a25bd9fe13775b8c3c295e56db1d66f190fac9a69598b87814a91f114e94a04c0d479e1a02ca12dbf73c1243bb0b161c51a06e413eaadfdb3218c9fba06154d524ab05fb2389daba4a33b9576e4acd4f69116260ae7688d9f735d01b03adcd0073a507005f793187c4ede116fac8801a84e99211430f0213fd8cfe3e41c2f190c051959f75cd2798188f7815391587eb6725a3410f7cdc5d240bb29038f678d7a79cb00b05adf74302a86b0581d13e2f4ee7a2410d63837bf2bbabe2315fa2c543a78b2aac8af7f2a236032f4edc70c05a52625991a51a8a1bdae4fe2825ad55d4e98a3e71456d7872e8fd77d7bc6d79954a7085193bcc9c7d243bf529c2cf07ebfa7b382fd318dac22fbd7dcf609b3c4cf5ba28da8b186c1bda7b05c587a0f04434ae74fba599921643b0269a64155e79dd397f0552b910001f11f83f89375d1788824477ac4c6b2747f7ac983caae157a45885a2ebec4eb981580927c2ce636c8acb2442285396c3f85768c4fe0d9936746caf2c3fb4f7624e48e865e9afe809c2ac5744a57d86be137819c51366239745440708fdeb08550a249adc5c1cb7c0a01852023bd101b3b39ed9ce77bf0b136f2541fc7e171325bc5ad2d10b8a7df16585cc28d17abee801ede4e7fc337927132600a9d3c15f3202300f77ae7c08cf9e62b943098d0853d9fdab9c9acaf7ee293ee8149ea8df07ccc34a09d83fb3f85ad3aeaef9b54899808cdb5e4dcd65835e48803b383f7c8398d7540ff6ad3bef560804580db699694859ec0edc363a9c5dcaf79acf79a3ea9292c16401983f951479ccf9b5d536d56543661894b4a72f888c894c92f3ae1af73ffd1c66454b224fecd33a33754ac55a61037486ce25be629905619c87907c217396786db9bd5f947ad4906676419c72765e0fc5fde4800a2c15af501b74def8a98b77517e9d1406b224cd53bbb795692748374c44a2d8db24b4f90a50f9323450fca8927f0a2c990fc90a9fc85e239173139a0e9dc88807ac3e063a1295b707ac371dd2c2da31baac1a2e8e3b1c53ff28ef6e371afab207b5714df2bf7f196fe543ca150c38188e6c54f45e54856c44b4e5ae301cd03d2f40117d60f5f36f99f556e9f3e98b8bf0b5606e3c8fade417506b2b7cb12cca7e5963b688430c40af709cdcb39ba17fbd3f61dba7c5b336d5bff5d25fbd49a7e21a244d3d2469919720a404620f5ee07c3c417a7aedd33e53fe744c80d98a09c6e66ef04660faece1be17de4b165046efa43dceb4d58aa252b934b671f12788966d1a0f78109df6002260ef181ab79c3b517f027965b498cb3cd0b075cd1b4cf6ea97aa10093d2b9250cb2fc646ab7f148ef24da433f1b0943f5ebb4c423613099297decca9c10878572fc34f74f5bc7e86277bd82ce40c695e166e34aaefd2f4f8f20db5aa397ab7f78b2480f99a4e38068a9a0cf2ef7ba09c8088b08a74bf44225e640ece5dc21f26a778dc67269c61dba932176171f9396277376129812cd58fb235be2751f4967393c6dbf66ef87a515b5766b0329d0b937a21265e0a23fe95e933d73ab1aaab8a1e2623e009181dd3a2dec3b72d70ee9f99a544a5cf7c28e80c8e6acdd81688d7ddcdd5693f82fdfcbe4c5ac78a04fab379cb01d47ae7dc33429c8adad8b7cfba8e42ec6d71c2da987b30df10253d6fd5d046642de8ee5bf693e824b03caf5e91447957c61eaee3edabb8c470b7a48b11c0d2a014739068c13c4e629750b6d62ecad40c3f2da6a62adfc226ee6be9dde92360634df35f0c956dbe1c59ea131c312fe6b6b6083c88beb0729e1241a908c85d15186db8fe5ca1a7284906b530e5954f771c92d1895b91ad677a2218f16abc62645ecfab4a6928e47bb6b3b8e7ab2b54837961cc90f79ee84ef666f22cc50b2c995cff54842089912d1a0611adb6aad1e6368c7433e85d83f5505b53a56dfc9cd9b1084784602994ceaf421cac5b35282e4832baad740d124598011ba146df2501cf5dfb55510fab6bbd9550a67629add95ce1f7fb6139b91797c88c4b5a7754e8109920e8b0666384f6dc402617c27859cc58ece5b2ed8c618be8a5b66ddcac0370fd6a54d73856eb518214fc4a7d998e9cff130bea0f551b70a68742fc11755460832c96116fe81f473bd9ee646f6a83381878b7e4a733f97662ea6fd7c1e8d7f41611a660397b3f3581b357ce3117392a4bbd98bfac475816ae3a6c02c930b088bfbe30528cf44ac2e0deaafc50e832071c3019ac1554bd625f8e5defd2d65be608e075d10b8972673a54be488a060cad28d16fc852cde68e3278424b5055c8f9787a3504811e10002e66bddd5eb82fa34218636b893566cbf1daf9c5e16059ff1b4e041a2a7a38ec4542d60543c926c45951006f58a9f7fc0323cf9368c975aff66b1dfb045d2aa5de397cfc9db08838d59f70c1d692091665b7c64bad4dce67d3d2907f161eeeefc097055fd22b2539e37416c0907540320f7e09eef42c737c99353394ab6c40f85cd44d5ff5b3fd5de6ecc674912d47ef1e5eaaf636b05ad74682b7ea852924e2b440c7dd9bdc6c8e078488d9290321251bd9401a772433a85de53f276873d5c95f96e581810b55c5013a6903b1a72ed7a3e197bd59ab31e56c8f130053aae3fcd0fd26025369d352357dbe68ff4581f87b87da754fe1e65b29537f4e59300cc9a098eeb0bb2287b56e4b787656d84a34b724c56e187e80f5aa80bdcd99518f3cd70f4ae676a296e935e8cd7e85edd01090e0401394210876b33510035f432ea10cc155e1968d5ede87fc3d1c1a0e27a03ecfafdb57685805a560d46a4c4feaa3eba347d850f92401c754aa307e53e9f72d82c8ddb7000649671fbbe4cd658689e6250da5ccab964088d5fb3d29723152091896791018fd265075951080999444896078115a2ec87e2a1f642da477f2441cfe0b259f41ef1a4db43c47fca0cafbdc0d892dbf5f11bf83e42ca6931be60032797a7b6fa5a99efb69080361e6d40c4fcf5ab74737806c7ce34dd46137be80452d9908116338b16a710a6d5eb9e80443d317bcb803ea12fcf7e24ccecd451efe862b3189f0c7da9dcc6d653bbcf67abb53134ff57702bebade94e5e3cd50b5674f398ac5c614d8760e6fcbfac9a0c723724516e5c963757d8c11cd48c3ab8d6aff2d33ca47403d20a132dc6868b7d11d25b4040bb29c18b91f2620e81a8a932d0bb93f3504ea26ab73b84faa97e125bdf8be9b95108134749b1a363e0cc5a2f2ef1b200b1475aa1f16a365e220517efd7d21f0f054431aae18a8550633b1c7d83edbeb1e9eaf8f60faeeea4a0ba21cd7d8fade9bc79cf08f780b8abbd7f787e61c0bb664cc587140a1f0339aa3bcb4aa6bccd189d132d8ac2f1375beec9dd52522582b31e681f5e8ce5bd65acbd8d5388c672fa1368fc5dfbcac67336ee11374bf6f5f81e7a756cadc54d2bc7d8976cc9cfcfae1fef1fb0a6bfa03083a4ce6cec6e51f4252423d6339891b9932e2b036efabe4a8f676caff0c2d00842c3934d17cf731400aaaa85a4554df5e2d6fd2a23e46c6a9f7c96f918048f06aeec66214473d5157818ac33b2e6e183a233cdc11691695c92ab1c08d1d0de344ed0f22892d81a3c6c99cc29d76a6a3b5403243443bd615a43f053b934ea977fa588aa63e8ca3e05f6be1af323345c4c7d45dea90c4d962171897099f5ba9d9bf35d6f954d005a43ecedd34088f8f7cf3666edaab46c8a79a4243b18d26fd1d22e50bc26134524039dd92f2321b4284a3895b9c7da6c408003a254b096c9df82900a0f10f555cd5cab92825f28a88cad49a519fd1868fbdb6b0d28fccc4d7f2da78397a44529a52130ac51ef7bb9201f11e63adedb57a050b85d4aa2a4ffa7a6af657fb1e4ff617f7eab9afa0184888dc2c0025896c37adcd5b04fa2f847fe4205eba1a9750fb9eac1dc590f4d1ee383681365109a64ac07ea446b6d87931daca32de2fea659c7d3308d0231bf8166978b1853c50985d398cbedc5338f240a5e945fafce9f08fc44ccc24e557d95cb5d1026a5ed7b2390197c3f524846c45ae5479095048f4e8152943b5121a2b8f1a5d025b0294850a360b22f9d3fecebb393d7d11d56bfa494865ef5fd7c96b513fa766dc9bc8526c175f04b9e13d20e83244129b1b3cba7231391d03da455bb0c5b5a8494c9209d58480b5e0444533d60766ce30d504daf0768fd2c0916327b2c071b69263c3bc64714496dc74064b4f19256d6e1c7bcc38e4cc5597fbe7b6e7a5b8ae08c2ec2ba38cd39c0d4bf9c07ddc49eacd90200decd7beeced84581da6b4dd11c32ea64f20be6eb2651ef7e90343e9718c095f595fb7d683a38f7e3108dd94c608d82085843ebf82d42cad859c1df7d7a02aca2d10a8554dc850567f598befc666ab1f2fad48fbd6f4d58cf51047d8fdaee655365309d3902a13c34031236f659c65b794b145f4be7cd06ea98bf8a1dadd707839dffce051b4a6f91a2993c75a0cc2a1118b1d4410f246e1e705bfd86c2c2059bd0354b5bd2977d63ead7693a316518dbc4a7b4c95607731b216fab739a4afa3e8875b65156a42bf856f89efbb6019d8daf093214a93c0fb78e50a34f5da7d0a158eb2c82be0b1fb356eab220a9cc575cd78612e5b31915fd9dea3c0926db0c42403892e4a6c909b9d81e9bbd8b237f32e5a734f106c9a902048932a665ab62fd8666630edf8067b38df6e37cd3c467465ce30be05bad8b35e708128d77bf82507e17b83da06746edbacd7a776a0c112a13dff31083f9ea83338d0cc233ddb0580febd0407f16a085da571760773b719cb2d5718ca06076024a661466a97f3447b2dc34937471cea13e01787aff636bdf5ce03fd16466f6471568140b817985e4da9398514f8f2b2d258086b4d7c20eeca6fb6f8a5b9b4767345892b8b5f46f38b83ddb01e8d0a43cfd834adddeb9bce351321d969d71aa3ec0547857cdb9308f346de7f08f4a7daa2c827d6f013ba28c8900ecc6e5f0c96a93a37466d35edbc32834602f00d252365d3debdf2cebedb35d8b1c29c3d8a9f04b84830ec36debb6ea0b5dccd829dde05d40bb24d04c471031017b86d3624844179fe1918138102c4897cfd3daece17e8745d7da5abcc8e99f8765089bb316b4c3ac12dea9a26a778556dbaf0cb1ea003c0cc67d311aaa30107f1eec7d7032b24f02fe8561170dae498eb9ee4a086fee5af9adbb3ed96c6c2a0a3a4fda0e5feed4322a77c90a6d7098ac0b0bc542adf7b687ee11f944e4b9976806215ffc7c06fa790ec388c79ecb600b59479f91135764ce685a0ac4d579a7c69fc765f554a26d423315ae2dbb062f3abd62650054a9746c615507f2a97c84f42c29278fdea9f36bbde768dc3814ba8a36ae977eee732e0c9644e3e1427873b3ef03c639fd79f2c2aef94ad28f308550f38a3d0dbf117709d11fa19ceec29416e6d4a48bab0645f6bfedcbde22767c3350c428170e3b111905536d62cf814b5b8f8e1ad77537e801ff5827b2089208af65fc6742dc808b52471ecbafe18fa406cbc3c7253d323489727c38b1152456fca91a177fdd297101c4bfb77d1db68cca7ce3f191d28c18ca758c44f89d54d247cc7cdf614715470506263bc29c4e84306b418d25f98e6c0d80cbea3798e5aaffb6b018f6a2029f5037435dc61c3cdbcbf4a3915615414640e49f18eb833dcc1d2f6585774a13e7d8a07e4f3067fdf1f655260044ac982abe6f407178e6413ad1fa3358fa7ccef1dc25e58f9705283dc81e78f143299b17b4b434e62e35ca4704002b20ab2ba1b2c9d21ed7fad83f4f6066c72b7d9f6da117de2a350a31fad74205e5898cabfeb9625dd1879edf08755e5e7983e861c295085b659c313b4e0c656ab6ed8331d50a183da26fb5d3a5336f3abd3ae11294640c9b078a279c1fb599f466f0243f0867094dce040f7d541604f2829dcdec12d8cc6c52ab6e78be6fcbdc2c8ac7fb83c913c7460f3c5713e5bf972eb293cad0e208e01dfd59adf69f5d5a416bd476f80987cf268a1d6a07611df40ae77f35fc9becafebf1f86c2399a361b9a5e4e09543a50da6554ac78aea19607e3941446cb31afe8f2dd9942a92bcde73385e3259b476c19cccc05dae7513ca47adb9a4f89643444c42acc8e870ce1b08d61feb8663af38c40e99a69b7e497681f7deffb8ebdf50365e48fabbb297c595a14890cc887ddb3f482654c68ccae6e9894410f94e9516356938d62b468fa33ed46f5b56e28271ced38e4d763b78f75079f0eddc3a949780fa7f4e5a09494d493dd522c3f9cfd477b3435ba105fe770e49486f14f2f5f426e920326aec3235a82bda56f3522e578a7f10f0d521c88b3724e370b2947e24c1ee51313d2a4fd951ffa04eb105a8f310d45f1315dc6150797d3af4215b4f20457044c4dfcdc88d48428a5fe66f4ec12493018314a1c16ae71f50e5d640802162db64a0f26a746960f7e5c4b47926bdab45e8d4b2f1432e1b832e7e23e7cef981a2511727a3d42e971a86ad216803cdb4f399fc6be76e68953ddf489d5a03ec154c9546333a14640572f016b2d973f1e67befd69c040728d40cdb84e1c76fd73544c07393da3749d983946c85c89c900f88b8c74aae68fac16bb7fa05041c5952683fa0e4393e102451e8270c2768bd459370924a1af0530441b47c02a36e90f4d805338bfc46949a025cf2c2068173ed712e2d8361b4a978795a98b877e028a57c054907a8574f493025d7e3254616233ba06b0b9a3d257797244480bf8c3f94364d43d9313bc42fb5719fa84e918c426d5d03a2ae84d03f7f01047cc5d6022613368478ffa1a3947f58b573e294eefa5faca759ad6e2daabd4dcdddd7656c082ebe3242cb5dc20e8fe1a49f23416b432dc7202de72a70adae8e0def2d5c3e7e98430a96dc598963e76da396da4f27f6c68ef2257b599b19320a1b19e9bbfe3a3548ba9d3acccad9c106b52fd0a8b6669f119df0ec63e321867f3f414b36c221e48ae4d776d43ae3f9a17c6a059575627deb3c15fffd3b8117b750e8f9eeead91484c5d03db2b554ab09b2ef380893280c16a6251420b67d80ae5f6d578a54dc4fc846c8d0cd7c6e5f59833d40ddc3f453f1c56a8b417070c23ce33e7b2a47aa31ffa204fda1e46cce0e93f18f5d4230d196f5e70606b3f3fe90de935e587fa6b2eeb84a9316642d070288fb8962fa908099ecc2d91742ff9ea26e6febf36aaeff0c26536d2feb6831a187e10786af8d28c72c4fbece2cb011c534f8fe651bfa5db5e3483c796a78ea66e62c58b5e8bcdd5d8e75a37c8129dceb3a6da20d625a46656fe38d4c1321b31c9e5719ba538027790f66627ea0c5ce924764bed534f496a1fbe98d3f3a7f1e11a1103c2e6a279a17c928472e93a6a053b98e11479335500d78d123be94d470757d99c0e98389cf776dc502bbc74471de6671314ee039c00e42df0c2d292507127b5212662e54d7f14bb42d247d5a12d5f60c9311fa5f12c9af3cd71d40a05dd1179ff79132fd14a1f28fd42655adbd29cb224f6e4326a03555fd2ad4c04fd25962216bad9dd6e6345ca548262c5abaa339bf3afe51816f9000c4506188bd7279323079524f2ba762b07d80cbf7ac7077387c9af7aa4e91c3c7587cfebc288fe0f0c5872200402579751df2bb130b49de20158a3f5e3dc1a414a39bc270b5abeda6126d31f82dab3f27fc8e198f068e4746dab4ff1289fde499945981caf2745e867af7887f234566f5c27eb311ac86d0522e5f44212b32a2570f60c1b2139de19c79df73eb23c514a38db6f8587221f9682a684a08a6462f21a2c8a040bc3f77f1a80f62c4f71fd596f9373c6081b7d5761afb0dac2dc889c5d943dbf6af7651c0e7446f3edeb5fd1de44672e327b604924b4642a88b12a006f91d2fa870e0cd586a69df80013affe9320938b015b99d9fbf4945373b5bd4e12677ee93580d5750a374f8062302e62582387124a134ba19ac2ddb2a00a4430559047c7013fc28f9e57c9fb2553e4267ac72d8712dc54637e560acb6346682e2a691900a2b4db2b2309aebea379b152b4d1526b35268592eb4b9a31e2eb1cb8ef8df699db3e6f2dcd5ee9411031d8ad846a2283fddfa30c52626cf87c3d9fe480e795945173035c9c8f195db82513f27c25cef5ab532d43667ef68e437e31bd81c26983688271f2844d93652096d635d8112281d5ac7afd2f09a80bb5b2f999ccdbfeb9bc7566206970dc593f3d49e67e24e7e61c8f4f4a50cd0f2d2cc8aadc996b3899a6baf8af47ed0d2a291440019a5184076dab2808479a462af907a757672442696e307469d5c5f59134a1c0f2797cebf04715f7fb6794c820bd76ed5c818307801a792cd21868d787ec7f2be6e2320926ebe61aff3d81c9a5e5c5787c63ba1560ac028d8c9f660b0d32a530b9253bbd2c1319ef780183a76667cae77bf63791662125dd49fdbeb2cf2db27819f4306578dc76494c9cb6793790a1e16f8afb0e87088fe0cd6d849538dfa3c0de47265f3c4d3a24df37896c2a67c5b7ee0d4263836b66115d06fec1474bcd66a909ce1e2b12c132a95c77f63b82d2d4d6ce460794fb64d52073d6a0e25e6ceca2135233dd50eab60bfc21fe01b2fe66c5a58884e69422c6bfd19935eb62f1fccab4d3fdf89ff41c9b41e3ab28b092d3a97a290f281b9e5eb75e56cd587bdff2cc907df48d074d8a9207cdcd74b43c14e764d44556724e7b0b77138842b3129ec61424f0584cb62a6cea878b004ad733ee683bb38c2ecd6e30da0719a4859b8247daeaa688078e4a7ba155e5d0eb5cf5438614516e7c9647890a976ff887214b43c96fda7e2d896959d89ba0c277519bdc1ab68d1085d93a4b956a95cada62e9d80eff1c2e6bba69c8efaf7ec79123e4d4d0d19b5506c9f40cf152e89d83bb930b0dca02f2681838c870e053441b7a9a873115a57dbac617ba84d4b434b1c2cd13b110df9a24c278d761e549b1ec936f02919a33f7d97efbc21cdacdb292e6bd519c065e35c0d8e49d06ea077865049abb4512a9d28ba289d0f928f899772f50beb6162ea9fa3bcc7bd5cef0fc15b739f0b081ff81d8c042eecbd06e0fb390b4bbd4b61f9b7af7024464482ebe14ee5c049a72d40d813b268337e8771a2f013a80000e7c9a7489d72ac5ce9f93be3aac23c5b12519fbbd4c5f41e01342d7c15a477b15bce794d1430995c1e616ac9681b19b7171dcf31efdcb931bd71ebf2a9494136d21c0e704471a2ff23654ecee8f357934597537a9f34ea4cc11743ace2130d82669e007902201e54b2afcaadb04736c75f6ae02d2932d08007e914909770ca26bc1f7241572e9fb3edf56a3edd7759c37287df474cf47844a9262255fcb405635ca6b9cb90de960ef8e226c0b3ca1d4fd4caad61db8e74a7c3f55160dbbd06cdf71e431e5e16e0178eba7c7bed7fd94cfba69075c4b6b96fd2b8d878a7ea085bb61a13652fee15c206ac5040fea8165be247db8e7d360e6bc2482f7302409f71747595a1042112de3f4f69ff5351285640bfd3d88037e6c2d1e459a27fac0d7296181ea4b984240cd4e3f16fb8a694c44bf6098e96ca88b66786bf15e9e548ef483e502c8943514a2d04059e0e09e7ac7232a4061c91c7d8d6b33d0b2d8095f36bba6a25a87673b60d329fe2694845a49c2a3f80f342ab9f2cd1b961a28a9ab438a873f5188c802e940fad84df238a4ac71af2f95833813f2c48c7bcf6d0c03fbf0be0df4c45be2aa8988ed72807ac100823eab467adfe2357c5e2f56f57d71388a3c694ca990e4e0d3e414cbaad8df86c810b64f6711ba77872e5acdc28dc3c47ddc4f4ec9d46c8ad0deab145e38467846b7003e90a0595b4edf9ac0bb09dfdc2025bf4396d601818ac81c76f1f89b9a6947de8f837ca03fdcb0ee2ee8efbf7e57c211883637a7efc9ce1952e378729e2c539a30e8a18b2bf360a9814e733e57e43e9e3ecfaa67dad9cdc153959e600a1ec3c22e8670422bce4166eff6e49a669300225b9ef2368022e8175ed6d8b06d1aad0037b856537edea6a1514ddcb3d95fd4e17ca7b8aa10a8888693ae0cbfba341258848f4c70e100cb0efdd3fe4340e7a0a068a9d837ccd2beedde4dbd2770d4d96efec8f92398f226850d171dd43e2960d61ace2b615d86961a0c16fd663399306c724f55616846da91c96d350066616920f36cb5219eb0c3b435777fecc30e5380165c00b4161dc1a58484a7d958ebc9caba9850570a3907ee0e9c2acbb42a305c2abf2ed38bc1ac436978fe03b9182970a3055ead9037db955d430498f5e000579c39b6e2db8df3e9cdc28703cca2df675c4313d5310a63d58d40b82da84ec6c9e1dfba308e12d9675fa8a0a8b1b3a0f08384c69b08be51d832e524e16453e446b45b31a6b2ca47133a4d29c302e294f6a857c0f472ac2b326ebb2f430c4c832095022cf1029b1783223a75fd4634de5c4d92b2541cacfd04a4392d422d4dfc9da1140c3522b58e25492d3f4e66e3db2aef3eba227e9edb50be5a3b9e3a7f2ec1868be3073025bd99c86d4f76d3204e1402b9fa0589b94983aa9764fba815bab1e1bc329105c4befd483052048dd9c23850782afc8af3b58835a772b879a80f987103d2af7c2acb5ec337066122aa25bc113bd5abdccef550b38629848c7ca7f6ad4aafa0cc5972ba191bf66cde199b073fcd9871603b333e76e77473e68f27b5e4a29b359496dc2624f3a51030bf6c69f0ef7f0460f345634a511516e6fc7465445008b5a8a54816be59b71d42de751a1e8fb7ab1ddb8808be510c54cbb87a6652f044e24e3cfcfb37c41f81a847b7378f42afca41cffa773f94737eca78914cf9d29d7a95ad7d7b344b4c02170e836d2dc18bf719874f411ad7ec6d81fd0d024c7d604be0ece494abccf96622b46ed219c4ab16ed62250cea16d908b9b4dcb9d1888cbfa4bca82443e494b0793d8828d5079b9632983efa47e228bcbe882b430c4c342f9d4df93d50487a9e0176d4182e775847e583cb8ec710262f05b6a8e69448162da10193507f15b64b1ae6d817c42cc64d3fb664bf710c911e0f196fcf23af741a8be8c375aa892831f4a3f6545df9721cdd4d2b0dcad02027f8bd9c3724ff321d9557577ccd2360e6ec5c9cf6faa411d1f213e4b6a65a264d3c2285c057bb5349b6d2f7021c626b0219df4c6659633689f1fa45979e3cf8b2854e5702aa2887191cbbf29de0d86d25193e3357b1ba6e8a802c3399ed25309bdba40f1e53e474c4f3f9f17a38ac033c3788b7722ee575beb5bb8c3bce44981c08678dd4a9daeaa3c51f6101762343e7a3fc9b592740bd3b9a529b937797d8646f034afc1605e21133a0663f830a2fa1a47c9a165ab6a1626160b183bad50bcbc7463137d7d118e552aeb6e3792d7340706861822257a8c96d43deafafbd314466357d0a489a6df1b90079ab0db0073ebbd43a6d002d2b22f8247c7f9cb23ea309b7ec6507c9d561a2272ee2eb28dc6b032fc6aa9bd0d9546fdc989442790716d6d1777d662f74d99188bf6baa65ddb0b9aa184a450f58d02dbddc3706e15ea0ccdd410509f0263728f3e59f4ace5401beaca1361d1706579f4b5d9f4713307a29e64677db904d25c88ba870f8bf5018c777c9c6094e54869377beab18ce091c9436af97441b6ea7dc8d1003edfc2ce6bea40b7775a18b6d83d8330b1814cb1f3eec9ce697a530d4cf33531cd883f7e634299d14cd31a059eb72cd09e75a1949a509d30627be859553475d43167c35dbbc0deacd1f83650a743066e0087bdae7565c3a18fdf5ab0b032bdabfd06dd15f29ff5955d4f851e71339ffe767076a44e8f1d942b041c75da415e435a56d36554df837c383a0e1c63e7549314e87a3496ddf9f97c2684e0b352ce7c67e02d3aebc56cadc186840c3fe5726002dda8ee2a44d36dc5e50183fa99e538e675f067bcc8e1ae139ea8e567ed8566361858a1f52f819ee803528a332fc413f0d6cd34e80cea967356bb85844562b714a554b67f7571113d231eac07849e00bce863c9c36103e8fb45882ac5383d7992898169e5d7c69e23ed914523080a47f1a755bba6e0c3394c22a93a789abbd00ab737b1aae332258deeed69789b9a4286715d492262cca790f4d4a98e58ddac466fac07b4015796e81e522a4f70a366bae2f5938333c517be853a466c39f5928f971627b7f0dbd6f18aba128d70c79069778d47a5b61ce558a76b28a3ba02bd7dc5cf942af6d8a069993b0b2f98869df0c17817cfb4354c0e279350719cd6306bc43a44a2b95b7a7188fa28c3c368feb34d33f64dbe9be2b7e5d3e2f3b844353d11b70d81b292f9321b44f564dc965054d7b6c63d759669a927b92c320af6b56c457f3fb504547e275d137f24fb2a66d5312b9acf3a2f79b66462bd65edf9b2a2e0945828fbe9431350a543cc8554853047aec5da5cafb144bf4a9192ceea253ae7f82c9e3df8c71e7ea90113af68eefaf9134a756c13c7f285a099ce79de99a1303e7f58de027bcab19d2717b73e03177e292bf803a388369dd7bdc69c9333c3f6722314eeee97c49355994417ce85b4293fe0bd7897d1734dfc118b1dc643668fb9ca9ce47e805e59112195fed5df190143a14dffee299df27621d2ee330de5ecff25ed7a6e0fca50f5e13899f1317bf2d04e1eaeaa12c8b38b36e8869610cdf383b1e9757f710945628d5f6457929250ed3301f92b0b533e84a33dba8ea556d9c2da7558cb32909ca7a185187ce1b6d9c687f5e8b089d84d7c195bf43440f9c4e2bfd8f88a6840c2977825911d3bb474fdae56a4efe78e7d97724b4e2c3bb80422198b8b7e136e71f9e9e0dc07ebee3fd2b939af7b3214c0b54e386e2bbc31e3bf1a9609c2e78680f2b7d93b8ce86a11ab668f64996ab0b4e8e43ad09bee8691b687b5d648573626db4623f0895b9e0ebf03a1b4fdf10e2042ff552e18fe71a68e7921bf5e0ffa7819d9790f6239b254c39bff62cdd551bc56e72286d5d3099d92483d4f6f7762cf458c08317cbf342609fa1f73c1fcc3bd9ce5019abb0bc6f70404d9423e7b48b5cb5dea78246fca236ddbbdfbb9c4a0f977cb0b11886543c73718dbaccf56fc5209bcba5f6931f008797a5e4d4af4d936640d622b9275baa467ba8015e193308340889ab818eb3f187bd5a80d3361b91f018ef9a28e2cc475d03e5ab10bf42fe53376323b0a2bd2b4079179bdf834ef4904c019ecc50751cfa85fa032a93e5b7153726c2684a005e17322aa4429cda1178cfd7bd0ade5852fc36d6654a99fe25c4b6bd1cfcdb0e92bfffd769904232c26f77db1fb4c160cf589f583dd79c657c967a8d089d60962cbcb0ff00ee0892e69574b8418e6219e278447f39a5bcfd20c70e8a24a577ca07bd163a7b0a3ce08a1fffd4896d346bc17a2cce1b12049aac2897e86715bbca229a8a41e465aca21782fce728dbdc27b48001875123887b3fedcf2681ef8e19e62c4d0cb398550854d4b0854f1eb2f32b066d71f915e61b564534184fab1c6c65f149af5b4f0844a4c241583f3a1e145d973be46f97a8aa4d883b8781c0e78b74ddcfaf52657a74119ec10c34d0e7a8a2148c97fc997511fbe005877c3bda2c20fabfecb10315db67b3b4ddfc46094afcf2e302c8c8076cdf0c5114ffa89ec766921d91c8ebdaa3bbedf2b62bed0f9ef3daf85a6e02406abb00a55ed6d1cf38d6cb2b204fc29d3b4c1cdf074c455cf8a5345586d74c1879e1e92e00bcc180fd8b3e69d3530805abec3deea29d397af3ac49334d6424e0c0be13b0b40f34454739641b52b677325200e7028bbaeb41ae88e51e244786866d6ac4b2a1d9e2538e415051d9be46679387e5d0f2a7cd214a0a760353e1dc0a132e117a0a7c22bb4d29c382d53cfe7a502dd5a6a45a8b19fbb89208a7b0142149bd1089823840546f4ac0b4934e5dd29cc2a90dc925ea26dcf1e273707e8a100365e54a8525581405415fd7bd0f9e3d694c2ac14062f9d4dad50d7aded13484bf0aa5454190a1ee3a3699f71aadf4df51fe6eb8751eb92f1eeb404328840ea4ddd8b8a0f8797fcc20a62d64a97dad4b0b65fee7f0091294fd39f99e432b482811bc9f7000e6f30e8582ad9981abea402aafe79eae55415ad4ef577da11801d23ffbd4e9de4ea4f175b7f0279d12b1dabfb0647bba75fff178c0b37ac0c851f1f3d80146d69e828558bc5f31f88264ab10c2dd32cf78a53c3eddfcd0875b1d844c28673aaa2f3cc29035471efd32dff44b2842560686825c280fdb3b89aa0b84b7e461601475f3ddbdb80de624bd3b5ad8211f2e5044c422489dd7463ee897fbeff2aae85c42307546b5fb323e19e0d8afd487122449784f2b0496b0a3751281b4f14f40dcf1d3988addb7a8a5a0b942ce2783e3d911db1023e3a3fb20fac9c5579fe22ae273128503bc4f8bbf9ad882c7d7870d766bdeb49f03ef987fa3421e8ecd7662796683fe6a7b1c23e67e9bf1dc04539eabdce1f7c6e79766f1608545ef67d2991fb75e788f03296f9f939e227ddc3df270ee8613bca2919a1b15eb3c81d20b45c5bcce5a08f0ea1bd8dac726bd9e5c20163a46144be973594780834809594692bea2679b71d49c832b92050b5c448ff107eecb2a5630228a773d90b6037588f74eb53705e00768bc5050d868f336f7cf953a12098cf0617782b48431f6b16aaebfd0c131630de4953350cb7226fd4248976750966a8042fe186e23ca155550d24f8a774b44aab4acd8ba46bf07699431d709d0dd4641be0c99bea81388b0e769aa55f018ef706355841673338a48d17d78261636ba3faad8ebf752beb81401d199ceb97d436e4ce42dce10df46034dcababeeef220951db3bc2f2b5498292241326ce3f1f81785fe17a267e644540733d66dbaddbcd3805f21436445080ffdca820620d3c3d27a4a11320666f4287d2c1985cc6b0281a08f1bc57224864a295d29f32d6febecb116ef68ac0849c0851580c25c264f4913ab108ae91c8ce0785d7437bd93db33f6a2ed80a393a8731adcfa52eda901387d81455458d342358163580100fd5003ad4aa3260573104fdcda001efd340ebb510d502ad0c2a12f1ca0bf67e98405c22e540638fc175424256c9d3d96906b5a84544334cbfbc1d4b2280974dba8752c64a578876ce17479896e04371ca1322def7c01dff325f6cc7911a9531ba0d2e65e8ac6fb2f8e4ad2a983f4cd30c0a47421e875d9bab4a4eaaf71b36dda444a8729d6a8d85b3373ac0fcf6381a4c72de929ac8626940df8f0d7c8f744b0f05f37f5e63cb8b125073ee0263c765a4611b5e09ff2677b454f52b56afb8b916721216abe0a764e31e26bf1902d3a813d81a434af706335a1352082b947b3e95506e0804a2fd7352b02d64acda7973263f784b26d1478043b076aa094c26f5c303bb11f8a06af4a0bba3b7e8f4d8dd51dc2b7e7f9ac6e96bb079cbc606e8aa51f023b779e81a495fe6fc15078e1a1b48df29dc363b6c1e0c936a260eb53ca123768e71d7c3f49e1818dd587870ec248ca89a371d16b5a07154e2ab2dbdd190841bb0bcba4c93fb260f338d5215251ecc3a476725122efa3a9242e546518b19a1b6e184e011fb094dcf1a296ed396e828189ac4e7d1b64a09dbe5fcd00e509a76aaa73876490141fbaf865b7a431558c2b2fb89f190a6de6939bbb42ed76f0076b95689d3853a6c46176246925026e9c949324715cc4e0d0e8a6c2e84e676757e74f140be3d786eca40ee6e27b65f129d653d39ddb20b23aba9c637b075f65b932aa2eb2079611c0337320605c43d2452c1c9fbfe66160287e47ccb8ee5a14bf78bd86ffd76e864b37528a9f96e6d7952b6abed92dfbcccf4f151a2d88dc2f6654495ee3be98625e4ae1d7e384e88741037d902db425abff94206c47408ef4d7c6485e26943ccc25013f4a6871c110ed14a2d7aac2665bd519d98d60a4aac9cb7ec0fe8d2b5a22bc4af81233b831ebafc999d036bd407313b5ce2bb11ef1d51b48aca43e404d4e8dc6dc3fde580ecd9a5544ab9848d240a06523662a61b59d24698c66e715563eca18ad9ba632fb8fba262dbef53c19585f9c6ac89fd95aff3064941c5a67720cbfb7b274b19baf12d4a843ed9025a6dc5d74eecabd5c772693dd8a9ae0ae181c35e5dec0a19642e7","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"4290edf5ab9c348d0d7d0b9e329b1e38"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
